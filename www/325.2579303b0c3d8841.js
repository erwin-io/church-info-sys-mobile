"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[325],{2669:(F,E,a)=>{a.d(E,{D:()=>q});var f=a(1086),C=a(2868),t=a(7221),n=a(2340),v=a(5e3),e=a(520),N=a(9709);let q=(()=>{class S{constructor(y,M){this.http=y,this.appconfig=M}getByStatus(y){return this.http.get(n.N.apiBaseUrl+this.appconfig.config.apiEndPoints.reservation.getByStatus,{params:y}).pipe((0,C.b)(M=>this.log("reservation")),(0,t.K)(this.handleError("reservation",[])))}getById(y){return this.http.get(n.N.apiBaseUrl+this.appconfig.config.apiEndPoints.reservation.getById+y).pipe((0,C.b)(M=>this.log("reservation")),(0,t.K)(this.handleError("reservation",[])))}getReservationsForADay(y){return this.http.get(n.N.apiBaseUrl+this.appconfig.config.apiEndPoints.reservation.getReservationForADay+y).pipe((0,C.b)(M=>this.log("reservation")),(0,t.K)(this.handleError("reservation",[])))}createReservation(y){return this.http.post(n.N.apiBaseUrl+this.appconfig.config.apiEndPoints.reservation.createReservation,y).pipe((0,C.b)(M=>this.log("reservation")),(0,t.K)(this.handleError("reservation",[])))}rescheduleReservation(y){return this.http.put(n.N.apiBaseUrl+this.appconfig.config.apiEndPoints.reservation.rescheduleReservation,y).pipe((0,C.b)(M=>this.log("reservation")),(0,t.K)(this.handleError("reservation",[])))}updateReservationStatus(y){return this.http.put(n.N.apiBaseUrl+this.appconfig.config.apiEndPoints.reservation.updateReservationStatus,y).pipe((0,C.b)(M=>this.log("reservation")),(0,t.K)(this.handleError("reservation",[])))}handleError(y="operation",M){return U=>(this.log(`${y} failed: ${Array.isArray(U.error.message)?U.error.message[0]:U.error.message}`),(0,f.of)(U.error))}log(y){console.log(y)}}return S.\u0275fac=function(y){return new(y||S)(v.LFG(e.eN),v.LFG(N._))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},6263:(F,E,a)=>{a.d(E,{t:()=>re});var f=a(655),C=a(3075),t=a(8779),n=a(5439),e=a(5e3),N=a(2669),q=a(7956),S=a(9709),i=a(2313),y=a(9808),M=a(2081),U=a(7322),J=a(7531);const Y=["reservationStepper"],Q=["selectTimeSlotDateCtrl"];function x(r,T){1&r&&(e.TgZ(0,"span",46),e._uU(1," Please select a reservation type "),e.qZA())}function O(r,T){1&r&&(e.TgZ(0,"span",46),e._uU(1," Please select a mass category "),e.qZA())}function d(r,T){1&r&&(e.TgZ(0,"span",46),e._uU(1," Please select a mass intention type "),e.qZA())}function p(r,T){1&r&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"First name"),e.qZA(),e.TgZ(3,"mat-form-field",39)(4,"mat-label"),e._uU(5,"First name"),e.qZA(),e._UZ(6,"input",47),e.qZA()())}function _(r,T){1&r&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Last name"),e.qZA(),e.TgZ(3,"mat-form-field",39)(4,"mat-label"),e._uU(5,"Last name"),e.qZA(),e._UZ(6,"input",48),e.qZA()())}function c(r,T){1&r&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Name of the Husband"),e.qZA(),e.TgZ(3,"mat-form-field",39)(4,"mat-label"),e._uU(5,"Name of the Husband"),e.qZA(),e._UZ(6,"input",49),e.qZA()())}function Z(r,T){1&r&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Name of the Wife"),e.qZA(),e.TgZ(3,"mat-form-field",39)(4,"mat-label"),e._uU(5,"Name of the Wife"),e.qZA(),e._UZ(6,"input",50),e.qZA()())}function g(r,T){if(1&r&&e._UZ(0,"ion-datetime",51,52),2&r){const o=e.oxw();e.Q6J("min",o.minDate)("showDefaultButtons",!0)}}function P(r,T){1&r&&(e.TgZ(0,"mat-label"),e._uU(1,"Select time slot"),e.qZA())}function w(r,T){if(1&r&&(e.TgZ(0,"ion-item",18)(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",56),e.qZA()),2&r){const o=T.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(s.tConvert(o)),e.xp6(1),e.Q6J("value",o)}}function H(r,T){if(1&r&&(e.TgZ(0,"ion-radio-group",54),e.YNc(1,w,4,2,"ion-item",55),e.qZA()),2&r){const o=e.oxw(2);e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngForOf",o.availableTimeSlot)}}function W(r,T){if(1&r&&(e.TgZ(0,"div",16),e.YNc(1,P,2,0,"mat-label",37),e.YNc(2,H,2,2,"ion-radio-group",53),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.availableTimeSlot.length>0),e.xp6(1),e.Q6J("ngIf",o.availableTimeSlot.length>0)}}function K(r,T){1&r&&(e.TgZ(0,"div",57)(1,"span"),e._uU(2,"Loading time slot please wait..."),e.qZA()())}function B(r,T){1&r&&(e.ynx(0),e.TgZ(1,"div",57)(2,"span"),e._uU(3,"Sorry!"),e._UZ(4,"br"),e._uU(5,"No available time slot to show, "),e._UZ(6,"br"),e._uU(7,"try another date"),e.qZA()(),e.BQk())}function G(r,T){if(1&r&&(e.TgZ(0,"ion-label")(1,"h3",60)(2,"strong"),e._uU(3),e.qZA()(),e.TgZ(4,"p",60),e._uU(5,"Reservation type"),e.qZA()()),2&r){const o=e.oxw(2);e.xp6(3),e.Oqu(o.previewData.reservationType)}}function j(r,T){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",60)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",60),e._uU(6,"Mass Category"),e.qZA()()()),2&r){const o=e.oxw(2);e.xp6(4),e.Oqu(o.previewData.massCategory)}}function X(r,T){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",60)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",60),e._uU(6,"Mass intention type"),e.qZA()()()),2&r){const o=e.oxw(2);e.xp6(4),e.Oqu(o.previewData.massIntentionType)}}function V(r,T){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",60)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",60),e._uU(6,"Name"),e.qZA()()()),2&r){const o=e.oxw(2);e.xp6(4),e.Oqu(o.previewData.firstName+" "+o.previewData.lastName)}}function ee(r,T){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",60)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",60),e._uU(6,"Name of the Husband"),e.qZA()()()),2&r){const o=e.oxw(2);e.xp6(4),e.Oqu(o.previewData.weddingHusbandName)}}function te(r,T){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",60)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",60),e._uU(6,"Name of the Wife"),e.qZA()()()),2&r){const o=e.oxw(2);e.xp6(4),e.Oqu(o.previewData.weddingWifeName)}}function ne(r,T){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",60)(3,"strong"),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"p",60),e._uU(7,"Date"),e.qZA()()()),2&r){const o=e.oxw(2);e.xp6(4),e.Oqu(e.xi3(5,1,o.previewData.reservationDate+" "+o.formData.time,"EEE, MMM dd hh:mm a"))}}function m(r,T){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",60)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",60),e._uU(6,"Remarks"),e.qZA()()()),2&r){const o=e.oxw(2);e.xp6(4),e.Oqu(o.previewData.remarks)}}function b(r,T){if(1&r&&(e.TgZ(0,"ion-content")(1,"h3",58)(2,"strong"),e._uU(3,"Preview"),e.qZA()(),e.TgZ(4,"ion-list",59)(5,"ion-item"),e.YNc(6,G,6,1,"ion-label",37),e.qZA(),e.YNc(7,j,7,1,"ion-item",37),e.YNc(8,X,7,1,"ion-item",37),e.YNc(9,V,7,1,"ion-item",37),e.YNc(10,ee,7,1,"ion-item",37),e.YNc(11,te,7,1,"ion-item",37),e.YNc(12,ne,8,4,"ion-item",37),e.YNc(13,m,7,1,"ion-item",37),e.qZA()()),2&r){const o=e.oxw();e.xp6(6),e.Q6J("ngIf",o.previewData.reservationType&&""!==o.previewData.reservationType),e.xp6(1),e.Q6J("ngIf",o.previewData.massCategory&&""!==o.previewData.massCategory),e.xp6(1),e.Q6J("ngIf",o.previewData.massIntentionType&&""!==o.previewData.massIntentionType),e.xp6(1),e.Q6J("ngIf",o.formData.reservationTypeId&&"2"!==o.formData.reservationTypeId&&o.formData.firstName&&""!==o.formData.firstName&&o.formData.lastName&&""!==o.formData.lastName),e.xp6(1),e.Q6J("ngIf",o.formData.reservationTypeId&&"2"===o.previewData.reservationTypeId&&o.formData.weddingHusbandName&&""!==o.formData.weddingHusbandName),e.xp6(1),e.Q6J("ngIf",o.formData.reservationTypeId&&"2"===o.formData.reservationTypeId&&o.formData.weddingWifeName&&""!==o.formData.weddingWifeName),e.xp6(1),e.Q6J("ngIf",o.previewData.reservationDate&&""!==o.selectTimeSlotForm.value.selectTime&&!o.formData.time.toLowerCase().includes("invalid date")),e.xp6(1),e.Q6J("ngIf",o.previewData.remarks&&""!==o.previewData.remarks)}}function l(r,T){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",61),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.onReservationTypeSelected(u.formData.reservationTypeId))}),e._uU(1,"Next"),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("disabled",o.isLoading||!o.selectReservationTypeForm.valid)}}function h(r,T){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",61),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.onMassCategorySelected())}),e._uU(1,"Next"),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("disabled",o.isLoading||!o.selectMassCategoryForm.valid)}}function I(r,T){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",61),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.onMassIntensionTypeSelected())}),e._uU(1,"Next"),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("disabled",o.isLoading||!o.selectMassIntensionTypeForm.valid)}}function R(r,T){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",61),e.NdJ("click",function(){e.CHM(o),e.oxw();const u=e.MAs(19);return e.KtG(u.next())}),e._uU(1,"Next"),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("disabled",o.isLoading||!o.nameForm.valid)}}function z(r,T){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",61),e.NdJ("click",function(){e.CHM(o),e.oxw();const u=e.MAs(19);return e.KtG(u.next())}),e._uU(1,"Next"),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("disabled",o.isLoading||!o.selectTimeSlotForm.valid)}}function ie(r,T){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",61),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.save())}),e._uU(1,"Save"),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("disabled",o.isLoading||!o.remarksForm.valid)}}function oe(r,T){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",62),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.onBack())}),e._uU(1,"Back"),e.qZA()}}const se=function(r){return{display:r}},ae=function(){return[0,.25,.5,.8,1]};let re=(()=>{class r{constructor(o,s,u,D,A,k,L,le,de){this.modalCtrl=o,this.formBuilder=s,this.alertController=u,this.reservationService=D,this.actionSheetController=A,this.pageLoaderService=k,this.appconfig=L,this.platform=le,this.sanitizer=de,this.isNew=!1,this.details={},this.isSubmitting=!1,this.isLoading=!1,this.reservationTypeOption=[],this.allowToClose=!1,this.availableTimeSlot=[],this.timeSlotConfig={start:"08:00",end:"17:00",notAvailableHours:["12:00"],durationInHours:1,dayOfWeekNotAvailable:["Sunday","Wednesday","Saturday"]},this.currentDate=new Date,this.minDate=new Date((new Date).setDate(this.currentDate.getDate()+1)).toISOString(),this.toMinutes=$=>$.split(":").reduce((ce,ge)=>60*ce+ +ge),this.toString=$=>(Math.floor($/60)+":"+$%60).replace(/\b\d\b/,"0$&"),this.timeSlotConfig.start=this.toMinutes(this.appconfig.config.reservationConfig.timeSlotHours.start),this.timeSlotConfig.end=this.toMinutes(this.appconfig.config.reservationConfig.timeSlotHours.end),this.timeSlotConfig.notAvailableHours=this.appconfig.config.reservationConfig.timeSlotNotAvailableHours,this.timeSlotConfig.dayOfWeekNotAvailable=this.appconfig.config.reservationConfig.dayOfWeekNotAvailable,this.reservationTypeOption=this.appconfig.config.lookup.reservationType,this.platform.backButton.subscribeWithPriority(-1,()=>{this.cancel()})}get formData(){return Object.assign({reservationDate:this.selectTimeSlotForm.value.selectTimeSlotDate?n(this.selectTimeSlotForm.value.selectTimeSlotDate).format("YYYY-MM-DD"):null,time:n(n(this.selectTimeSlotForm.value.selectTimeSlotDate).format("YYYY-MM-DD")+" "+this.selectTimeSlotForm.value.selectTime).format("HH:mm"),clientId:this.currentUser.clientId,reservationTypeId:this.selectReservationTypeForm.valid?this.selectReservationTypeForm.value.reservationTypeId:null,massCategoryId:"1"!==this.selectReservationTypeForm.value.reservationTypeId&&"2"!==this.selectReservationTypeForm.value.reservationTypeId||!this.selectMassCategoryForm.valid?null:this.selectMassCategoryForm.value.massCategoryId,massIntentionTypeId:this.selectMassIntensionTypeForm.value.massIntentionTypeId&&"3"===this.selectReservationTypeForm.value.reservationTypeId&&this.selectMassIntensionTypeForm.valid?this.selectMassIntensionTypeForm.value.massIntentionTypeId:null,remarks:this.remarksForm.value.remarks},this.nameForm.value)}get errorControls(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.selectReservationTypeForm.controls),this.selectMassCategoryForm.controls),this.selectMassIntensionTypeForm.controls),this.selectTimeSlotForm.controls),this.remarksForm.controls),this.nameForm.controls)}get previewData(){return console.log(this.formData),Object.assign({reservationType:this.formData.reservationTypeId?this.appconfig.config.lookup.reservationType.filter(o=>Number(o.reservationTypeId)===Number(this.formData.reservationTypeId))[0].name:"",reservationDate:this.formData.reservationDate,massCategory:this.formData.massCategoryId?this.appconfig.config.lookup.massCategory.filter(o=>Number(o.massCategoryId)===Number(this.formData.massCategoryId))[0].name:"",massIntentionType:this.formData.massIntentionTypeId?this.appconfig.config.lookup.massIntentionType.filter(o=>Number(o.massIntentionTypeId)===Number(this.formData.massIntentionTypeId))[0].name:"",remarks:this.formData.remarks},this.formData)}ngOnInit(){this.selectReservationTypeForm=this.formBuilder.group({reservationTypeId:[null,C.kI.required]}),this.selectMassCategoryForm=this.formBuilder.group({massCategoryId:[null,C.kI.required]}),this.selectMassIntensionTypeForm=this.formBuilder.group({massIntentionTypeId:[null,C.kI.required]}),this.nameForm=this.formBuilder.group({firstName:[null],lastName:[null],weddingHusbandName:[null],weddingWifeName:[null]}),this.selectTimeSlotForm=this.formBuilder.group({selectTimeSlotDate:[this.minDate,C.kI.required],selectTime:[null,C.kI.required]}),this.remarksForm=this.formBuilder.group({remarks:[]}),this.allowToClose=!0,this.getReservationsForADay(n(this.minDate).format("YYYY-MM-DD"),this.timeSlotOptions(this.timeSlotConfig.durationInHours)),this.selectTimeSlotForm.get("selectTimeSlotDate").valueChanges.subscribe(o=>(0,f.mG)(this,void 0,void 0,function*(){this.selectTimeSlotForm.controls.selectTime.setValue(null);const s=new Date(o).toLocaleDateString("en-US",{weekday:"long"});this.timeSlotConfig.dayOfWeekNotAvailable.filter(D=>D.toLowerCase().includes(s.toLowerCase())).length<=0?yield this.getReservationsForADay(n(this.formData.reservationDate).format("YYYY-MM-DD"),this.timeSlotOptions(this.timeSlotConfig.durationInHours)):this.availableTimeSlot=[]})),this.subscription=this.platform.backButton.subscribeWithPriority(9999,o=>{this.modal.canDismiss&&this.cancel(),this.pageLoaderService.close()})}initTimeSlot(){return(0,f.mG)(this,void 0,void 0,function*(){this.selectTimeSlotForm.controls.selectTime.setValue(null);const o=new Date(this.formData.reservationDate).toLocaleDateString("en-US",{weekday:"long"});this.timeSlotConfig.dayOfWeekNotAvailable.filter(u=>u.toLowerCase().includes(o.toLowerCase())).length<=0?yield this.getReservationsForADay(n(this.formData.reservationDate).format("YYYY-MM-DD"),this.timeSlotOptions(this.timeSlotConfig.durationInHours)):this.availableTimeSlot=[]})}ionViewWillLeave(){this.subscription.unsubscribe()}onSelectFocus(o,s){console.log("click"),setTimeout(()=>{o.setValue(s)},1e3)}onReservationTypeSelected(o){return(0,f.mG)(this,void 0,void 0,function*(){"1"===o||"2"===o?this.reservationStepper.next():"3"===o?this.reservationStepper.selectedIndex=2:(this.reservationStepper.selectedIndex=3,this.timeSlotConfig.start=this.toMinutes("08:00"),this.timeSlotConfig.end=this.toMinutes("16:00"),this.timeSlotConfig.durationInHours=1,this.timeSlotConfig.timeSlotNotAvailableHours=["12:00","17:00"],this.timeSlotConfig.dayOfWeekNotAvailable=[],yield this.initTimeSlot())})}onMassCategorySelected(){return(0,f.mG)(this,void 0,void 0,function*(){this.reservationStepper.selectedIndex=3,"1"===this.formData.reservationTypeId?"1"===this.formData.massCategoryId?(this.timeSlotConfig.start=this.toMinutes("08:00"),this.timeSlotConfig.end=this.toMinutes("16:00"),this.timeSlotConfig.durationInHours=1,this.timeSlotConfig.timeSlotNotAvailableHours=["12:00"],this.timeSlotConfig.dayOfWeekNotAvailable=["Sunday"]):(this.timeSlotConfig.start=this.toMinutes("11:00"),this.timeSlotConfig.end=this.toMinutes("12:00"),this.timeSlotConfig.durationInHours=8,this.timeSlotConfig.timeSlotNotAvailableHours=["08:00","09:00","10:00","12:00","13:00","14:00","15:00","16:00","17:00"],this.timeSlotConfig.dayOfWeekNotAvailable=["Monday","Tuesday","Wednesday","Thursday","Friday","Sunday"]):"2"===this.formData.reservationTypeId?"1"===this.formData.massCategoryId?(this.timeSlotConfig.start=this.toMinutes("08:00"),this.timeSlotConfig.end=this.toMinutes("16:00"),this.timeSlotConfig.durationInHours=1,this.timeSlotConfig.timeSlotNotAvailableHours=["12:00"],this.timeSlotConfig.dayOfWeekNotAvailable=["Sunday"]):(this.timeSlotConfig.start=this.toMinutes("08:00"),this.timeSlotConfig.end=this.toMinutes("09:00"),this.timeSlotConfig.durationInHours=8,this.timeSlotConfig.timeSlotNotAvailableHours=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],this.timeSlotConfig.dayOfWeekNotAvailable=["Monday","Tuesday","Wednesday","Thursday","Friday","Sunday"]):(this.timeSlotConfig.start=this.toMinutes("08:00"),this.timeSlotConfig.end=this.toMinutes("17:00"),this.timeSlotConfig.durationInHours=1,this.timeSlotConfig.timeSlotNotAvailableHours=["12:00"],this.timeSlotConfig.dayOfWeekNotAvailable=[]),yield this.initTimeSlot()})}onMassIntensionTypeSelected(){return(0,f.mG)(this,void 0,void 0,function*(){this.reservationStepper.next(),this.timeSlotConfig.start=this.toMinutes("08:00"),this.timeSlotConfig.end=this.toMinutes("16:00"),this.timeSlotConfig.durationInHours=1,this.timeSlotConfig.timeSlotNotAvailableHours=["12:00","17:00"],this.timeSlotConfig.dayOfWeekNotAvailable=[],yield this.initTimeSlot()})}onBack(){"1"!==this.formData.reservationTypeId&&"2"!==this.formData.reservationTypeId||3!==this.reservationStepper.selectedIndex?"3"===this.formData.reservationTypeId&&2===this.reservationStepper.selectedIndex||"4"===this.formData.reservationTypeId&&3===this.reservationStepper.selectedIndex?this.reservationStepper.selectedIndex=0:this.reservationStepper.previous():this.reservationStepper.selectedIndex=1}cancel(){0!==this.reservationStepper.selectedIndex?this.onBack():(this.modal.canDismiss=!0,this.modalCtrl.dismiss(null,"cancel"))}save(){return(0,f.mG)(this,void 0,void 0,function*(){const o=this.formData;try{yield this.pageLoaderService.open("Booking reservation..."),this.isSubmitting=!0,this.reservationService.createReservation(o).subscribe(s=>(0,f.mG)(this,void 0,void 0,function*(){s.success?(yield this.presentAlert({header:"Booked!",buttons:["OK"]}),this.isSubmitting=!1,this.modal.canDismiss=!0,this.modal.dismiss({success:!0,data:s.data},"confirm"),yield this.pageLoaderService.close()):(yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(s.message)?s.message[0]:s.message,buttons:["OK"]}))}),s=>(0,f.mG)(this,void 0,void 0,function*(){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(s.message)?s.message[0]:s.message,buttons:["OK"]})}))}catch(s){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(s.message)?s.message[0]:s.message,buttons:["OK"]})}})}timeSlotOptions(o=1){const s=this.timeSlotConfig.notAvailableHours,u=this.timeSlotConfig.start;return Array.from({length:Math.floor((this.timeSlotConfig.end-u)/(60*Number(o)))+1},(k,L)=>this.toString(u+L*(60*Number(o)))).filter(k=>!s.includes(k))}tConvert(o){if(!o.toLowerCase().includes("invalid date"))return(o=(o=o.split(":")[1].charAt(1)?o:o+"0").toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[o]).length>1&&((o=o.slice(1))[5]=+o[0]<12?" AM":" PM",o[0]=+o[0]%12||12),o.join("")}getReservationsForADay(o,s){return(0,f.mG)(this,void 0,void 0,function*(){console.log(s);try{this.isLoading=!0,yield this.reservationService.getReservationsForADay(o).subscribe(u=>(0,f.mG)(this,void 0,void 0,function*(){if(u.success){const D=u.data.map(A=>{const k=n(`${A.reservationDate} ${A.time}`).format("HH"),L=new Date(n(`${A.reservationDate} ${A.time}`).format("YYYY-MM-DD HH:mm"));return L.setHours(L.getHours()+this.timeSlotConfig.durationInHours),{reservationTimeStart:k,reservationTimeEnd:n(L).format("HH")}});this.availableTimeSlot=s.map(A=>{const k=A.split(":")[0];if(D.filter(L=>Number(k)>=Number(L.reservationTimeStart)&&Number(k)<Number(L.reservationTimeEnd)).length<=0)return A}).filter(A=>null!=A&&""!==A),this.isLoading=!1}else yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(u.message)?u.message[0]:u.message,buttons:["OK"]}),this.isLoading=!1}),u=>(0,f.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(u.message)?u.message[0]:u.message,buttons:["OK"]}),this.isLoading=!1}))}catch(u){console.log(u),yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(u.message)?u.message[0]:u.message,buttons:["OK"]})}})}presentAlert(o){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(o)).present()})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(t.IN),e.Y36(C.qu),e.Y36(t.Br),e.Y36(N.D),e.Y36(t.BX),e.Y36(q.p),e.Y36(S._),e.Y36(t.t4),e.Y36(i.H7))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-schedule"]],viewQuery:function(o,s){if(1&o&&(e.Gf(Y,5),e.Gf(t.ki,5),e.Gf(Q,7)),2&o){let u;e.iGM(u=e.CRH())&&(s.reservationStepper=u.first),e.iGM(u=e.CRH())&&(s.timeSlotModal=u.first),e.iGM(u=e.CRH())&&(s.selectTimeSlotDateCtrl=u.first)}},decls:126,vars:54,consts:[["slot","start"],[3,"click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],[3,"ngStyle"],[2,"display","flex","width","100%","padding","16px","align-items","center"],[2,"display","flex","width","100%"],["slot","end"],["id","open-modal-preview"],["name","chevron-down-circle"],[1,"ion-padding"],["animationDuration","200",3,"linear"],["reservationStepper",""],["label","",3,"stepControl"],["id","selectReservationTypeForm",3,"formGroup","ngSubmit"],[1,"form-field-group"],["formControlName","reservationTypeId"],["fill","outline","lines","none"],["slot","end","value","1",3,"disabled"],["slot","end","value","2",3,"disabled"],["slot","end","value","3",3,"disabled"],["slot","end","value","4",3,"disabled"],["class","error",4,"ngIf"],["id","selectMassCategoryForm",3,"formGroup","ngSubmit"],["formControlName","massCategoryId"],["id","selectMassIntensionTypeForm",3,"formGroup","ngSubmit"],["formControlName","massIntentionTypeId"],[3,"stepControl"],["id","requestDetailsForm",3,"formGroup","ngSubmit"],[3,"disabled"],["class","form-field-group",4,"ngIf"],["id","selectTimeSlotForm",3,"formGroup","ngSubmit"],["id","open-reservation-date-picker","fill","outline","lines","none",3,"disabled"],["trigger","open-reservation-date-picker",3,"cssClass"],["class","form-field-group",4,"ngIf","ngIfElse"],["elseLoadingTimeSlot",""],[4,"ngIf"],["id","remarksForm",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","placeholder","Remarks","formControlName","remarks",2,"height","200px"],["trigger","open-modal-preview","animated","true","swipeToClose","true","showBackdrop","true","canDismiss","true","handle","true","handleBehavior","cycle","backdropDismiss","true",3,"initialBreakpoint","breakpoints"],["modal",""],[1,"sched-controls-bottom"],["color","primary","size","large","expand","block",3,"disabled","click",4,"ngIf"],["color","primary","size","large","expand","block","fill","outline",3,"click",4,"ngIf"],[1,"error"],["matInput","","type","text","placeholder","First name","formControlName","firstName"],["matInput","","type","text","placeholder","Last name","formControlName","lastName"],["matInput","","type","text","placeholder","Name of the Husband","formControlName","weddingHusbandName"],["matInput","","type","text","placeholder","Name of the Wife","formControlName","weddingWifeName"],["presentation","date","size","cover","formControlName","selectTimeSlotDate",3,"min","showDefaultButtons"],["selectTimeSlotDateCtrl",""],["formControlName","selectTime",3,"disabled",4,"ngIf"],["formControlName","selectTime",3,"disabled"],["fill","outline","lines","none",4,"ngFor","ngForOf"],["slot","end",3,"value"],[1,"no-time-slot-available"],[2,"color","rgba(0,0,0)!important","margin","20px 20px 0 20px!important","text-align","center"],["lines","none"],[2,"color","black"],["color","primary","size","large","expand","block",3,"disabled","click"],["color","primary","size","large","expand","block","fill","outline",3,"click"]],template:function(o,s){if(1&o){const u=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.NdJ("click",function(){return s.cancel()}),e._UZ(4,"ion-icon",2),e.qZA()(),e.TgZ(5,"ion-title",3),e._uU(6,"New Reservation"),e.qZA(),e._UZ(7,"div",4),e.qZA(),e.TgZ(8,"ion-toolbar",5)(9,"div",6)(10,"h3",0)(11,"strong"),e._uU(12,"Preview"),e.qZA()(),e._UZ(13,"div",7),e.TgZ(14,"ion-buttons",8)(15,"ion-button",9),e._UZ(16,"ion-icon",10),e.qZA()()()()(),e.TgZ(17,"ion-content",11)(18,"mat-stepper",12,13)(20,"mat-step",14)(21,"form",15),e.NdJ("ngSubmit",function(){e.CHM(u);const A=e.MAs(19);return e.KtG(!!s.selectReservationTypeForm.valid&&A.next())}),e.TgZ(22,"fieldset")(23,"div",16)(24,"mat-label"),e._uU(25,"Select reservation type"),e.qZA(),e.TgZ(26,"ion-radio-group",17)(27,"ion-item",18)(28,"ion-label"),e._uU(29,"Baptism"),e.qZA(),e._UZ(30,"ion-radio",19),e.qZA(),e.TgZ(31,"ion-item",18)(32,"ion-label"),e._uU(33,"Wedding"),e.qZA(),e._UZ(34,"ion-radio",20),e.qZA(),e.TgZ(35,"ion-item",18)(36,"ion-label"),e._uU(37,"Mass intentions"),e.qZA(),e._UZ(38,"ion-radio",21),e.qZA(),e.TgZ(39,"ion-item",18)(40,"ion-label"),e._uU(41,"Funeral mass"),e.qZA(),e._UZ(42,"ion-radio",22),e.qZA()(),e.YNc(43,x,2,0,"span",23),e.qZA()()()(),e.TgZ(44,"mat-step",14)(45,"form",24),e.NdJ("ngSubmit",function(){e.CHM(u);const A=e.MAs(19);return e.KtG(!!s.selectMassCategoryForm.valid&&A.next())}),e.TgZ(46,"fieldset")(47,"div",16)(48,"mat-label"),e._uU(49,"Select mass category"),e.qZA(),e.TgZ(50,"ion-radio-group",25)(51,"ion-item",18)(52,"ion-label"),e._uU(53,"Special"),e.qZA(),e._UZ(54,"ion-radio",19),e.qZA(),e.TgZ(55,"ion-item",18)(56,"ion-label"),e._uU(57,"Common"),e.qZA(),e._UZ(58,"ion-radio",20),e.qZA()(),e.YNc(59,O,2,0,"span",23),e.qZA()()()(),e.TgZ(60,"mat-step",14)(61,"form",26),e.NdJ("ngSubmit",function(){e.CHM(u);const A=e.MAs(19);return e.KtG(!!s.selectMassIntensionTypeForm.valid&&A.next())}),e.TgZ(62,"fieldset")(63,"div",16)(64,"mat-label"),e._uU(65,"Select mass intention type"),e.qZA(),e.TgZ(66,"ion-radio-group",27)(67,"ion-item",18)(68,"ion-label"),e._uU(69,"Pamisa Pasalamat"),e.qZA(),e._UZ(70,"ion-radio",19),e.qZA(),e.TgZ(71,"ion-item",18)(72,"ion-label"),e._uU(73,"Pamisa sa Birthday"),e.qZA(),e._UZ(74,"ion-radio",20),e.qZA(),e.TgZ(75,"ion-item",18)(76,"ion-label"),e._uU(77,"House Blessing"),e.qZA(),e._UZ(78,"ion-radio",21),e.qZA(),e.TgZ(79,"ion-item",18)(80,"ion-label"),e._uU(81,"Pamisa sa Kalag"),e.qZA(),e._UZ(82,"ion-radio",22),e.qZA()(),e.YNc(83,d,2,0,"span",23),e.qZA()()()(),e.TgZ(84,"mat-step",28)(85,"form",29),e.NdJ("ngSubmit",function(){e.CHM(u);const A=e.MAs(19);return e.KtG(!!s.nameForm.valid&&A.next())}),e.TgZ(86,"fieldset",30),e.YNc(87,p,7,0,"div",31),e.YNc(88,_,7,0,"div",31),e.YNc(89,c,7,0,"div",31),e.YNc(90,Z,7,0,"div",31),e.qZA()()(),e.TgZ(91,"mat-step",28)(92,"form",32),e.NdJ("ngSubmit",function(){e.CHM(u);const A=e.MAs(19);return e.KtG(!!s.selectTimeSlotForm.valid&&A.next())}),e.TgZ(93,"fieldset",30)(94,"div",16)(95,"mat-label",0),e._uU(96,"Select reservation date"),e.qZA(),e.TgZ(97,"ion-item",33)(98,"ion-label"),e._uU(99),e.ALo(100,"date"),e.qZA()(),e.TgZ(101,"ion-modal",34),e.YNc(102,g,2,2,"ng-template"),e.qZA()(),e.YNc(103,W,3,2,"div",35),e.YNc(104,K,3,0,"ng-template",null,36,e.W1O),e.YNc(106,B,8,0,"ng-container",37),e.qZA()()(),e.TgZ(107,"mat-step",28)(108,"form",38),e.NdJ("ngSubmit",function(){e.CHM(u);const A=e.MAs(19);return e.KtG(!!s.remarksForm.valid&&A.next())}),e.TgZ(109,"fieldset")(110,"div",16)(111,"mat-form-field",39)(112,"mat-label"),e._uU(113,"Remarks(Optional)"),e.qZA(),e._UZ(114,"textarea",40),e.qZA()()()()()(),e.TgZ(115,"ion-modal",41,42),e.YNc(117,b,14,8,"ng-template"),e.qZA()(),e.TgZ(118,"div",43),e.YNc(119,l,2,1,"ion-button",44),e.YNc(120,h,2,1,"ion-button",44),e.YNc(121,I,2,1,"ion-button",44),e.YNc(122,R,2,1,"ion-button",44),e.YNc(123,z,2,1,"ion-button",44),e.YNc(124,ie,2,1,"ion-button",44),e.YNc(125,oe,2,0,"ion-button",45),e.qZA()}if(2&o){const u=e.MAs(19),D=e.MAs(105);e.xp6(8),e.Q6J("ngStyle",e.VKq(51,se,s.previewData.reservationType&&""!==s.previewData.reservationType?"":"none")),e.xp6(10),e.Q6J("linear",!1),e.xp6(2),e.Q6J("stepControl",s.selectReservationTypeForm),e.xp6(1),e.Q6J("formGroup",s.selectReservationTypeForm),e.xp6(9),e.Q6J("disabled",s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(1),e.Q6J("ngIf",s.errorControls.reservationTypeId.touched&&s.errorControls.reservationTypeId.errors&&s.errorControls.reservationTypeId.errors.required),e.xp6(1),e.Q6J("stepControl",s.selectMassCategoryForm),e.xp6(1),e.Q6J("formGroup",s.selectMassCategoryForm),e.xp6(9),e.Q6J("disabled",s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(1),e.Q6J("ngIf",s.errorControls.massCategoryId.touched&&s.errorControls.massCategoryId.errors&&s.errorControls.massCategoryId.errors.required),e.xp6(1),e.Q6J("stepControl",s.selectMassIntensionTypeForm),e.xp6(1),e.Q6J("formGroup",s.selectMassIntensionTypeForm),e.xp6(9),e.Q6J("disabled",s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(1),e.Q6J("ngIf",s.errorControls.massIntentionTypeId.touched&&s.errorControls.massIntentionTypeId.errors&&s.errorControls.massIntentionTypeId.errors.required),e.xp6(1),e.Q6J("stepControl",s.nameForm),e.xp6(1),e.Q6J("formGroup",s.nameForm),e.xp6(1),e.Q6J("disabled",s.isSubmitting||s.isLoading),e.xp6(1),e.Q6J("ngIf",s.formData.reservationTypeId&&"2"!==s.formData.reservationTypeId),e.xp6(1),e.Q6J("ngIf",s.formData.reservationTypeId&&"2"!==s.formData.reservationTypeId),e.xp6(1),e.Q6J("ngIf",s.formData.reservationTypeId&&"2"===s.formData.reservationTypeId),e.xp6(1),e.Q6J("ngIf",s.formData.reservationTypeId&&"2"===s.formData.reservationTypeId),e.xp6(1),e.Q6J("stepControl",s.selectTimeSlotForm),e.xp6(1),e.Q6J("formGroup",s.selectTimeSlotForm),e.xp6(1),e.Q6J("disabled",s.isSubmitting||s.isLoading),e.xp6(4),e.Q6J("disabled",s.isLoading),e.xp6(2),e.Oqu(e.xi3(100,48,s.formData.reservationDate,"EEEE, MMMM d, y")),e.xp6(2),e.Q6J("cssClass","bottom-end"),e.xp6(2),e.Q6J("ngIf",!s.isLoading)("ngIfElse",D),e.xp6(3),e.Q6J("ngIf",!s.isLoading&&s.availableTimeSlot.length<=0),e.xp6(1),e.Q6J("stepControl",s.remarksForm),e.xp6(1),e.Q6J("formGroup",s.remarksForm),e.xp6(7),e.Q6J("initialBreakpoint",.5)("breakpoints",e.DdM(53,ae)),e.xp6(4),e.Q6J("ngIf",0===u.selectedIndex),e.xp6(1),e.Q6J("ngIf",1===u.selectedIndex),e.xp6(1),e.Q6J("ngIf",2===u.selectedIndex),e.xp6(1),e.Q6J("ngIf",3===u.selectedIndex),e.xp6(1),e.Q6J("ngIf",4===u.selectedIndex),e.xp6(1),e.Q6J("ngIf",5===u.selectedIndex),e.xp6(1),e.Q6J("ngIf",u.selectedIndex>0&&u.selectedIndex<=5)}},dependencies:[y.sg,y.O5,y.PC,C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,t.YG,t.Sm,t.W2,t.x4,t.Gu,t.gu,t.Ie,t.Q$,t.q_,t.B7,t.se,t.wd,t.sr,t.ki,t.U5,t.QI,M.C0,M.Vq,U.KE,U.hX,J.Nt,y.uU],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin:0!important}.sched-controls-bottom[_ngcontent-%COMP%]{position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px;box-shadow:0 3px 10px #0003}.sched-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}  mat-stepper .mat-horizontal-stepper-header-container{display:none!important}  mat-stepper .mat-horizontal-content-container{padding:0!important}ion-radio-group.hide-radio-controls[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{visibility:hidden!important}#selectTimeSlotForm[_ngcontent-%COMP%]{display:flex!important;height:100%}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{flex-grow:1;display:flex!important}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .form-field-group[_ngcontent-%COMP%]{flex-grow:0!important}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .no-time-slot-available[_ngcontent-%COMP%]{flex-grow:1;display:flex!important;flex-direction:column;align-items:center;text-align:center;justify-content:center}.photos[_ngcontent-%COMP%]{row-gap:10px;display:flex;flex-direction:column;box-sizing:border-box;width:100%;padding:10px}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:auto}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{position:absolute;right:30px;width:40px;height:40px}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:10px;object-position:center;object-fit:contain;box-shadow:0 0 10px #7a7a7a75}"]}),r})()},8088:(F,E,a)=>{a.d(E,{k:()=>_});var f=a(655),C=a(5439),n=a(5e3),v=a(8779),e=a(7956),N=a(3746),q=a(8386),S=a(9709),i=a(2669),y=a(9808),M=a(8559);function U(c,Z){if(1&c&&(n.TgZ(0,"ion-item",11)(1,"ion-label",12)(2,"div",17)(3,"h1",13),n._uU(4),n.qZA(),n.TgZ(5,"h3",14),n._uU(6,"Mass Category"),n.qZA()()()()),2&c){const g=n.oxw(2);n.xp6(4),n.Oqu(g.details.massCategory.name)}}function J(c,Z){if(1&c&&(n.TgZ(0,"ion-item",11)(1,"ion-label",12)(2,"div",17)(3,"h1",13),n._uU(4),n.qZA(),n.TgZ(5,"h3",14),n._uU(6,"Mass Intention Type"),n.qZA()()()()),2&c){const g=n.oxw(2);n.xp6(4),n.Oqu(g.details.massIntentionType.name)}}function Y(c,Z){if(1&c&&(n.TgZ(0,"ion-item",11),n._UZ(1,"ion-icon",21),n.TgZ(2,"ion-label",12)(3,"h2",13),n._uU(4),n.qZA(),n.TgZ(5,"span",16),n._uU(6,"Name"),n.qZA()()()),2&c){const g=n.oxw(2);n.xp6(4),n.Oqu(g.details.firstName+" "+g.details.lastName)}}function Q(c,Z){if(1&c&&(n.TgZ(0,"ion-item",11),n._UZ(1,"ion-icon",22),n.TgZ(2,"ion-label",12)(3,"h2",13),n._uU(4),n.qZA(),n.TgZ(5,"span",16),n._uU(6,"Name of the Husband"),n.qZA()()()),2&c){const g=n.oxw(2);n.xp6(4),n.Oqu(g.details.weddingHusbandName)}}function x(c,Z){if(1&c&&(n.TgZ(0,"ion-item",11),n._UZ(1,"ion-icon",23),n.TgZ(2,"ion-label",12)(3,"h2",13),n._uU(4),n.qZA(),n.TgZ(5,"span",16),n._uU(6,"Name of the Wife"),n.qZA()()()),2&c){const g=n.oxw(2);n.xp6(4),n.Oqu(g.details.weddingWifeName)}}function O(c,Z){if(1&c&&(n.TgZ(0,"div",10)(1,"ion-item",11)(2,"ion-label",12)(3,"div",11)(4,"h2",13),n._uU(5,"# "),n.TgZ(6,"strong"),n._uU(7),n.ALo(8,"numberLeadZero"),n.qZA()()()()(),n.TgZ(9,"ion-item",11)(10,"ion-label",12)(11,"h3",14)(12,"strong")(13,"ion-text",15),n._uU(14),n.qZA()()(),n.TgZ(15,"h3",16),n._uU(16,"Status"),n.qZA()()(),n.TgZ(17,"ion-item",11)(18,"ion-label",12)(19,"div",17)(20,"h1",13),n._uU(21),n.qZA(),n.TgZ(22,"h3",14),n._uU(23,"Reservation Type"),n.qZA()()()(),n.YNc(24,U,7,1,"ion-item",18),n.YNc(25,J,7,1,"ion-item",18),n.TgZ(26,"ion-item",11),n._UZ(27,"ion-icon",19),n.TgZ(28,"ion-label",12)(29,"h3",14),n._uU(30),n.qZA(),n.TgZ(31,"h3",14),n._uU(32),n.qZA()()(),n.TgZ(33,"ion-item",11),n._UZ(34,"ion-icon",20),n.TgZ(35,"ion-label",12)(36,"h2",13),n._uU(37),n.qZA(),n.TgZ(38,"span",16),n._uU(39),n.qZA()()(),n.YNc(40,Y,7,1,"ion-item",18),n.YNc(41,Q,7,1,"ion-item",18),n.YNc(42,x,7,1,"ion-item",18),n.qZA()),2&c){const g=n.oxw();let P;n.xp6(7),n.Oqu(n.xi3(8,13,g.details.reservationId,5)),n.xp6(6),n.Q6J("color",("1"===g.details.reservationStatus.reservationStatusId||"4"===g.details.reservationStatus.reservationStatusId?"danger":"")||("2"===g.details.reservationStatus.reservationStatusId?"primary":"")||(null!==(P="3"===g.details.reservationStatus.reservationStatusId)&&void 0!==P?P:"tertiary")),n.xp6(1),n.hij(" ",g.details.reservationStatus.name," "),n.xp6(7),n.Oqu(g.details.reservationType.name),n.xp6(3),n.Q6J("ngIf","1"===g.details.reservationType.reservationTypeId||"2"!==g.details.reservationType.reservationTypeId),n.xp6(1),n.Q6J("ngIf","3"===g.details.reservationType.reservationTypeId),n.xp6(5),n.Oqu(g.reservationDate),n.xp6(2),n.Oqu(g.time),n.xp6(5),n.Oqu(g.details.remarks),n.xp6(2),n.Oqu(""!==g.details.remarks?"Remarks":"No Remarks"),n.xp6(1),n.Q6J("ngIf","2"!==g.details.reservationType.reservationTypeId),n.xp6(1),n.Q6J("ngIf","2"===g.details.reservationType.reservationTypeId),n.xp6(1),n.Q6J("ngIf","2"===g.details.reservationType.reservationTypeId)}}function d(c,Z){1&c&&(n.TgZ(0,"div",10)(1,"ion-item",11)(2,"ion-label",12)(3,"h3",14)(4,"strong")(5,"ion-text"),n._UZ(6,"ion-skeleton-text",24),n.qZA()()(),n.TgZ(7,"h3",16),n._UZ(8,"ion-skeleton-text",24),n.qZA()()(),n.TgZ(9,"ion-item",11)(10,"ion-label",12)(11,"div",17)(12,"h1",13),n._UZ(13,"ion-skeleton-text",24),n.qZA(),n.TgZ(14,"h3",14),n._UZ(15,"ion-skeleton-text",24),n.qZA()()()(),n.TgZ(16,"ion-item",11),n._UZ(17,"ion-icon",19),n.TgZ(18,"ion-label",12)(19,"h3",14),n._UZ(20,"ion-skeleton-text",24),n.qZA(),n.TgZ(21,"h3",14),n._UZ(22,"ion-skeleton-text",24),n.qZA()()(),n.TgZ(23,"ion-item",11),n._UZ(24,"ion-icon",25),n.TgZ(25,"ion-label",12)(26,"h3",14),n._UZ(27,"ion-skeleton-text",24),n.qZA()()(),n.TgZ(28,"ion-item",11),n._UZ(29,"ion-icon",26),n.TgZ(30,"ion-label",12)(31,"h2",13),n._UZ(32,"ion-skeleton-text",24),n.qZA(),n.TgZ(33,"span",16),n._UZ(34,"ion-skeleton-text",24),n.qZA()()()()),2&c&&(n.xp6(6),n.Q6J("animated",!0),n.xp6(2),n.Q6J("animated",!0),n.xp6(5),n.Q6J("animated",!0),n.xp6(2),n.Q6J("animated",!0),n.xp6(5),n.Q6J("animated",!0),n.xp6(2),n.Q6J("animated",!0),n.xp6(5),n.Q6J("animated",!0),n.xp6(5),n.Q6J("animated",!0),n.xp6(2),n.Q6J("animated",!0))}function p(c,Z){if(1&c){const g=n.EpF();n.TgZ(0,"ion-button",27),n.NdJ("click",function(){n.CHM(g);const w=n.oxw();return n.KtG(w.onCancelReservation())}),n._uU(1,"Cancel reservation"),n.qZA()}if(2&c){const g=n.oxw();n.Q6J("disabled",g.isLoading)}}let _=(()=>{class c{constructor(g,P,w,H,W,K,B,G,j){this.modalCtrl=g,this.alertController=P,this.actionSheetController=w,this.platform=H,this.pageLoaderService=W,this.storageService=K,this.userService=B,this.appconfig=G,this.reservationService=j,this.hasChanges=!1,this.isLoading=!1,this.details={},this.platform.backButton.subscribeWithPriority(-1,()=>{this.cancel()})}get reservationDate(){return C(this.details.reservationDate).format("dddd, MMM DD, YYYY")}get time(){return C(`${this.details.reservationDate} ${this.details.time}`).format("h:mm a")}ngOnInit(){this.getReservation(this.details.reservationId)}getReservation(g){return(0,f.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.reservationService.getById(g).subscribe(P=>(0,f.mG)(this,void 0,void 0,function*(){P.success?(this.details=P.data,this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(P.message)?P.message[0]:P.message,buttons:["OK"]})}),P=>(0,f.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(P.message)?P.message[0]:P.message,buttons:["OK"]}),this.isLoading=!1}))}catch(P){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(P.message)?P.message[0]:P.message,buttons:["OK"]})}})}onCancelReservation(){return(0,f.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Are you sure you want to cancel?",buttons:[{text:"BACK",role:"cancel"},{text:"YES",role:"confirm",handler:()=>(0,f.mG)(this,void 0,void 0,function*(){this.cancelReservation()})}]})})}cancelReservation(){return(0,f.mG)(this,void 0,void 0,function*(){try{yield this.pageLoaderService.open("Processing please wait..."),this.isLoading=!0,this.reservationService.updateReservationStatus({reservationId:this.details.reservationId,reservationStatusId:"4"}).subscribe(g=>(0,f.mG)(this,void 0,void 0,function*(){if(g.success)return this.hasChanges=!0,yield this.pageLoaderService.close(),yield this.presentAlert({header:"Reservation cancelled!",buttons:["OK"]}),this.isLoading=!1,this.modalCtrl.dismiss(!0,"confirm");yield this.pageLoaderService.close(),this.isLoading=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(g.message)?g.message[0]:g.message,buttons:["OK"]})}),g=>(0,f.mG)(this,void 0,void 0,function*(){yield this.pageLoaderService.close(),this.isLoading=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(g.message)?g.message[0]:g.message,buttons:["OK"]})}))}catch(g){yield this.pageLoaderService.close(),this.isLoading=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(g.message)?g.message[0]:g.message,buttons:["OK"]})}})}cancel(){return this.modalCtrl.dismiss(this.hasChanges?this.hasChanges:null,"cancel")}presentAlert(g){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(g)).present()})}}return c.\u0275fac=function(g){return new(g||c)(n.Y36(v.IN),n.Y36(v.Br),n.Y36(v.BX),n.Y36(v.t4),n.Y36(e.p),n.Y36(N.V),n.Y36(q.K),n.Y36(S._),n.Y36(i.D))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-schedule-details"]],decls:14,vars:4,consts:[["slot","start"],[3,"disabled","click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],[1,"ion-padding"],["class","details-container",4,"ngIf","ngIfElse"],["loading",""],[1,"sched-controls-bottom"],["color","danger","expand","block","fill","outline",3,"disabled","click",4,"ngIf"],[1,"details-container"],[1,"item"],["text-wrap",""],[1,"title"],[1,"sub"],[3,"color"],[1,"desc"],[1,"item","type"],["class","item",4,"ngIf"],["name","today","slot","start"],["name","pricetag","slot","start"],["name","Person","slot","start"],["name","man","slot","start"],["name","woman","slot","start"],[3,"animated"],["name","location","slot","start"],["name","medkit","slot","start"],["color","danger","expand","block","fill","outline",3,"disabled","click"]],template:function(g,P){if(1&g&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.NdJ("click",function(){return P.cancel()}),n._UZ(4,"ion-icon",2),n.qZA()(),n.TgZ(5,"ion-title",3),n._uU(6,"Details"),n.qZA(),n._UZ(7,"div",4),n.qZA()(),n.TgZ(8,"ion-content",5),n.YNc(9,O,43,16,"div",6),n.YNc(10,d,35,9,"ng-template",null,7,n.W1O),n.qZA(),n.TgZ(12,"div",8),n.YNc(13,p,2,1,"ion-button",9),n.qZA()),2&g){const w=n.MAs(11);n.xp6(3),n.Q6J("disabled",P.isLoading),n.xp6(6),n.Q6J("ngIf",!P.isLoading)("ngIfElse",w),n.xp6(4),n.Q6J("ngIf","1"===P.details.reservationStatus.reservationStatusId)}},dependencies:[y.O5,v.YG,v.Sm,v.W2,v.Gu,v.gu,v.Ie,v.Q$,v.CK,v.yW,v.wd,v.sr,M.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}.message-header-button[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{position:absolute;z-index:9;top:0;right:-10px;font-size:12px}.video-conference-button.disabled[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0003!important}.video-conference-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#26a69a}.details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#000!important;display:flex;flex-direction:column}.details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{margin:5px 0!important}.details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:#999!important}.details-container[_ngcontent-%COMP%]   .item.type[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500}.sched-controls-bottom[_ngcontent-%COMP%]{position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px;box-shadow:0 3px 10px #0003}.sched-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}.photos[_ngcontent-%COMP%]{row-gap:10px;display:flex;flex-direction:column;box-sizing:border-box;width:100%;padding:10px}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:auto}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:10px;object-position:center;object-fit:contain;box-shadow:0 0 10px #7a7a7a75}"]}),c})()},8365:(F,E,a)=>{a.d(E,{O:()=>Q});var f=a(655),C=a(8088),t=a(5e3),n=a(8779),v=a(2669),e=a(9808),N=a(8559);function q(x,O){if(1&x){const d=t.EpF();t.TgZ(0,"ion-refresher",10),t.NdJ("ionRefresh",function(_){t.CHM(d);const c=t.oxw();return t.KtG(c.doRefresh(_))}),t._UZ(1,"ion-refresher-content"),t.qZA()}}function S(x,O){if(1&x&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&x){const d=t.oxw().$implicit;t.xp6(1),t.hij("",d.massCategory.name," ")}}function i(x,O){if(1&x&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&x){const d=t.oxw().$implicit;t.xp6(1),t.Oqu(d.massIntentionType.name)}}function y(x,O){if(1&x){const d=t.EpF();t.TgZ(0,"ion-item",12),t.NdJ("click",function(){const c=t.CHM(d).$implicit,Z=t.oxw(3);return t.KtG(Z.onOpenDetails(c))}),t.TgZ(1,"ion-label")(2,"div")(3,"h3")(4,"strong"),t._uU(5),t.ALo(6,"numberLeadZero"),t.TgZ(7,"ion-text",13),t._uU(8),t.qZA()()(),t.TgZ(9,"p")(10,"strong"),t._uU(11),t.qZA()(),t.YNc(12,S,2,1,"p",14),t.YNc(13,i,2,1,"p",14),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"date"),t.ALo(17,"date"),t.qZA()()()()}if(2&x){const d=O.$implicit;let p;t.xp6(5),t.hij("ID #: ",t.xi3(6,8,d.reservationId,5)," "),t.xp6(2),t.Q6J("color",("1"===d.reservationStatus.reservationStatusId||"4"===d.reservationStatus.reservationStatusId?"danger":"")||("2"===d.reservationStatus.reservationStatusId?"primary":"")||(null!==(p="3"===d.reservationStatus.reservationStatusId)&&void 0!==p?p:"tertiary")),t.xp6(1),t.hij(" ",d.reservationStatus.name," "),t.xp6(3),t.Oqu(d.reservationType.name),t.xp6(1),t.Q6J("ngIf","1"===d.reservationType.reservationTypeId||"2"===d.reservationType.reservationTypeId),t.xp6(1),t.Q6J("ngIf","3"===d.reservationType.reservationTypeId),t.xp6(2),t.AsE("",t.xi3(16,11,d.reservationDate,"MMMM dd, yyyy")," ",t.xi3(17,14,d.reservationDate+" "+d.time,"hh:mm a"),"")}}function M(x,O){if(1&x&&(t.TgZ(0,"ion-list"),t.YNc(1,y,18,17,"ion-item",11),t.qZA()),2&x){const d=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",d.reservation)}}function U(x,O){if(1&x&&(t.TgZ(0,"div"),t.YNc(1,M,2,1,"ion-list",7),t.qZA()),2&x){const d=t.oxw(),p=t.MAs(14);t.xp6(1),t.Q6J("ngIf",d.reservation.length>0)("ngIfElse",p)}}function J(x,O){1&x&&(t.TgZ(0,"ion-list")(1,"ion-item")(2,"ion-label")(3,"div")(4,"h3",16),t._UZ(5,"ion-skeleton-text",17),t.qZA(),t.TgZ(6,"p"),t._UZ(7,"ion-skeleton-text",17),t.qZA(),t.TgZ(8,"p",18),t._UZ(9,"ion-skeleton-text",17),t.qZA()()()()()),2&x&&(t.xp6(5),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0))}function Y(x,O){1&x&&(t.TgZ(0,"div",19),t._UZ(1,"ion-icon",20),t.TgZ(2,"h3",21),t._uU(3,"No recent reservations to show"),t.qZA()())}let Q=(()=>{class x{constructor(d,p,_,c){this.actionSheetController=d,this.modalCtrl=p,this.alertController=_,this.reservationService=c,this.isLoading=!1,this.reservation=[],this.message="",this.currentPage=1,this.limit=10,this.totalUnreadNotification=0}ngOnInit(){this.initHistory(this.currentUser.clientId)}initHistory(d){return(0,f.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.reservationService.getByStatus({clientId:d,reservationStatus:"Completed,Cancelled"}).subscribe(p=>(0,f.mG)(this,void 0,void 0,function*(){p.success?(this.reservation=p.data,this.refreshEvent&&(this.refreshEvent.target.complete(),this.refreshEvent=null),this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(p.message)?p.message[0]:p.message,buttons:["OK"]})}),p=>(0,f.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(p.message)?p.message[0]:p.message,buttons:["OK"]}),this.isLoading=!1}))}catch(p){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(p.message)?p.message[0]:p.message,buttons:["OK"]})}})}onOpenDetails(d){return(0,f.mG)(this,void 0,void 0,function*(){const p=yield this.modalCtrl.create({component:C.k,cssClass:"modal-fullscreen",componentProps:{details:d,currentUser:this.currentUser}});p.present(),yield p.onWillDismiss()})}loadMore(){return(0,f.mG)(this,void 0,void 0,function*(){this.currentPage=this.currentPage+1,this.initHistory(this.currentUser.clientId)})}doRefresh(d){return(0,f.mG)(this,void 0,void 0,function*(){this.reservation=[],this.currentPage=1,this.refreshEvent=d,this.initHistory(this.currentUser.clientId)})}cancel(){return this.modalCtrl.dismiss(null,"cancel")}presentAlert(d){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(d)).present()})}}return x.\u0275fac=function(d){return new(d||x)(t.Y36(n.BX),t.Y36(n.IN),t.Y36(n.Br),t.Y36(v.D))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-schedule-history"]],decls:15,vars:4,consts:[["no-border","","no-shadow",""],["slot","start"],[3,"disabled","click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],["slot","fixed","class","refresher-custom",3,"ionRefresh",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseLoading",""],["elseNoData",""],["slot","fixed",1,"refresher-custom",3,"ionRefresh"],["button","","detail","true",3,"click",4,"ngFor","ngForOf"],["button","","detail","true",3,"click"],[3,"color"],["class","value",4,"ngIf"],[1,"value"],[1,"title",2,"width","50%"],[3,"animated"],[2,"width","40%"],[1,"no-records"],["name","search-outline",2,"font-size","4em"],[1,"text"]],template:function(d,p){if(1&d&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),t.NdJ("click",function(){return p.cancel()}),t._UZ(4,"ion-icon",3),t.qZA()(),t.TgZ(5,"ion-title",4),t._uU(6,"History"),t.qZA(),t._UZ(7,"div",5),t.qZA()(),t.TgZ(8,"ion-content"),t.YNc(9,q,2,0,"ion-refresher",6),t.YNc(10,U,2,2,"div",7),t.YNc(11,J,10,3,"ng-template",null,8,t.W1O),t.YNc(13,Y,4,0,"ng-template",null,9,t.W1O),t.qZA()),2&d){const _=t.MAs(12);t.xp6(3),t.Q6J("disabled",p.isLoading),t.xp6(6),t.Q6J("ngIf",!p.isLoading),t.xp6(1),t.Q6J("ngIf",!p.isLoading)("ngIfElse",_)}},dependencies:[e.sg,e.O5,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.Ie,n.Q$,n.q_,n.nJ,n.Wo,n.CK,n.yW,n.wd,n.sr,e.uU,N.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}ion-item[_ngcontent-%COMP%]{background:rgba(204,204,204,.8)!important}ion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(204,204,204,.8)!important}ion-label[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important}.no-records[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px}  ion-item .un-read .title{font-weight:800px!important}"]}),x})()},2266:(F,E,a)=>{a.d(E,{W:()=>O});var f=a(655),C=a(8088),t=a(5e3),n=a(8779),v=a(2669),e=a(9808),N=a(8559);function q(d,p){if(1&d){const _=t.EpF();t.TgZ(0,"ion-refresher",10),t.NdJ("ionRefresh",function(Z){t.CHM(_);const g=t.oxw();return t.KtG(g.doRefresh(Z))}),t._UZ(1,"ion-refresher-content"),t.qZA()}}function S(d,p){if(1&d&&(t.TgZ(0,"h3",20),t._uU(1),t.qZA()),2&d){const _=t.oxw().$implicit;t.xp6(1),t.Oqu(_.massCategory.name)}}function i(d,p){if(1&d&&(t.TgZ(0,"h3",20),t._uU(1),t.qZA()),2&d){const _=t.oxw().$implicit;t.xp6(1),t.Oqu(_.massIntentionType.name)}}function y(d,p){if(1&d){const _=t.EpF();t.TgZ(0,"div")(1,"ion-card",13)(2,"div",14)(3,"div",15)(4,"span"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"h2",16),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"span")(11,"strong"),t._uU(12),t.ALo(13,"date"),t.qZA()(),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"date"),t.qZA()(),t.TgZ(17,"div",17)(18,"div",18)(19,"div",19)(20,"h3",20)(21,"strong"),t._uU(22),t.ALo(23,"numberLeadZero"),t.qZA()()()(),t.TgZ(24,"div",21)(25,"div",22)(26,"ion-buttons",23)(27,"ion-button",24),t.NdJ("click",function(){const g=t.CHM(_).$implicit,P=t.oxw(3);return t.KtG(P.showMenu(g))}),t._UZ(28,"ion-icon",25),t.qZA()()()(),t.TgZ(29,"div",21)(30,"div",26)(31,"h3"),t._uU(32,"Type"),t.qZA(),t.TgZ(33,"h3",20)(34,"strong"),t._uU(35),t.qZA()()()(),t.TgZ(36,"div",21)(37,"div",26),t.YNc(38,S,2,1,"h3",27),t.YNc(39,i,2,1,"h3",27),t.qZA()()()()()()}if(2&d){const _=p.$implicit;t.xp6(5),t.Oqu(t.xi3(6,8,_.reservationDate,"MMMM")),t.xp6(3),t.Oqu(t.xi3(9,11,_.reservationDate,"dd")),t.xp6(4),t.Oqu(t.xi3(13,14,_.reservationDate+" "+_.time,"hh:mm a")),t.xp6(3),t.Oqu(t.xi3(16,17,_.reservationDate,"EEEE")),t.xp6(7),t.hij("ID #: ",t.xi3(23,20,_.reservationId,5),""),t.xp6(13),t.Oqu(_.reservationType.name),t.xp6(3),t.Q6J("ngIf","1"===_.reservationType.reservationTypeId||"2"!==_.reservationType.reservationTypeId),t.xp6(1),t.Q6J("ngIf","3"===_.reservationType.reservationTypeId)}}function M(d,p){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,y,40,23,"div",12),t.qZA()),2&d){const _=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",_.reservation)}}function U(d,p){1&d&&(t.TgZ(0,"div",28),t._UZ(1,"ion-icon",29),t.TgZ(2,"h3",30),t._uU(3,"No pending reservation to show"),t.qZA()())}function J(d,p){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,M,2,1,"div",8),t.YNc(2,U,4,0,"ng-template",null,11,t.W1O),t.qZA()),2&d){const _=t.MAs(3),c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.reservation.length>0)("ngIfElse",_)}}function Y(d,p){1&d&&(t.TgZ(0,"div")(1,"ion-card",13)(2,"div",14)(3,"div",31)(4,"span",32),t._UZ(5,"ion-skeleton-text",33),t.qZA(),t.TgZ(6,"h2",34),t._UZ(7,"ion-skeleton-text",33),t.qZA(),t.TgZ(8,"span",32),t._UZ(9,"ion-skeleton-text",33),t.qZA(),t.TgZ(10,"span",32),t._UZ(11,"ion-skeleton-text",33),t.qZA()(),t.TgZ(12,"div",17)(13,"div",18)(14,"div",35)(15,"h3",20),t._UZ(16,"ion-skeleton-text",33),t.qZA()()(),t.TgZ(17,"div",21)(18,"div",36)(19,"h3",20),t._UZ(20,"ion-skeleton-text",33),t.qZA()()()()()()()),2&d&&(t.xp6(5),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(5),t.Q6J("animated",!0),t.xp6(4),t.Q6J("animated",!0))}const Q=function(){return[1]};function x(d,p){1&d&&(t.TgZ(0,"div"),t.YNc(1,Y,21,6,"div",12),t.qZA()),2&d&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,Q)))}let O=(()=>{class d{constructor(_,c,Z,g){this.actionSheetController=_,this.modalCtrl=c,this.alertController=Z,this.reservationService=g,this.hasChanges=!1,this.isLoading=!1,this.reservation=[],this.message=""}ngOnInit(){this.getReservation(this.currentUser.clientId)}getReservation(_){return(0,f.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.reservationService.getByStatus({clientId:_,reservationStatus:"Pending"}).subscribe(c=>(0,f.mG)(this,void 0,void 0,function*(){c.success?(this.reservation=c.data,this.refreshEvent&&(this.refreshEvent.target.complete(),this.refreshEvent=null),this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]})}),c=>(0,f.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]}),this.isLoading=!1}))}catch(c){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]})}})}doRefresh(_){return(0,f.mG)(this,void 0,void 0,function*(){this.refreshEvent=_,yield this.getReservation(this.currentUser.clientId)})}showMenu(_){return(0,f.mG)(this,void 0,void 0,function*(){const c=yield this.actionSheetController.create({cssClass:"sched-card-action-sheet",buttons:[{text:"Details",handler:()=>(0,f.mG)(this,void 0,void 0,function*(){this.onOpenDetails(_),c.dismiss()})},{text:"Back",handler:()=>(0,f.mG)(this,void 0,void 0,function*(){c.dismiss()})}]});yield c.present(),yield c.onDidDismiss()})}onOpenDetails(_){return(0,f.mG)(this,void 0,void 0,function*(){const c=yield this.modalCtrl.create({component:C.k,cssClass:"modal-fullscreen",componentProps:{details:_,currentUser:this.currentUser}});c.onWillDismiss().then(Z=>{Z.data&&(this.hasChanges=Z.data,this.getReservation(this.currentUser.clientId))}),c.present(),yield c.onWillDismiss()})}cancel(){return this.modalCtrl.dismiss(this.hasChanges?this.hasChanges:null,"cancel")}presentAlert(_){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(_)).present()})}}return d.\u0275fac=function(_){return new(_||d)(t.Y36(n.BX),t.Y36(n.IN),t.Y36(n.Br),t.Y36(v.D))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-schedule-pending"]],decls:13,vars:4,consts:[["no-border","","no-shadow",""],["slot","start"],[3,"disabled","click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],["fullscreen",""],["slot","fixed","class","refresher-custom",3,"ionRefresh",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseLoading",""],["slot","fixed",1,"refresher-custom",3,"ionRefresh"],["elseNoData",""],[4,"ngFor","ngForOf"],["mode","ios"],[1,"sched-card"],[1,"card-header"],[1,"date"],[1,"card-content"],[1,"content-row","border"],[1,"field"],[1,"value"],[1,"content-row"],[1,"field","action"],["slot","end"],[3,"click"],["name","ellipsis-vertical-sharp"],[1,"field","type"],["class","value",4,"ngIf"],[1,"no-records"],["name","search-outline",2,"font-size","4em"],[1,"text"],[1,"card-header",2,"width","90px!important"],[2,"width","100%!important"],[3,"animated"],[1,"date",2,"width","100%!important"],[1,"field","vet",2,"width","100%!important"],[1,"field","type",2,"width","100%!important"]],template:function(_,c){if(1&_&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),t.NdJ("click",function(){return c.cancel()}),t._UZ(4,"ion-icon",3),t.qZA()(),t.TgZ(5,"ion-title",4),t._uU(6,"Pending"),t.qZA(),t._UZ(7,"div",5),t.qZA()(),t.TgZ(8,"ion-content",6),t.YNc(9,q,2,0,"ion-refresher",7),t.YNc(10,J,4,2,"div",8),t.YNc(11,x,2,2,"ng-template",null,9,t.W1O),t.qZA()),2&_){const Z=t.MAs(12);t.xp6(3),t.Q6J("disabled",c.isLoading),t.xp6(6),t.Q6J("ngIf",!c.isLoading),t.xp6(1),t.Q6J("ngIf",!c.isLoading)("ngIfElse",Z)}},dependencies:[e.sg,e.O5,n.YG,n.Sm,n.PM,n.W2,n.Gu,n.gu,n.nJ,n.Wo,n.CK,n.wd,n.sr,e.uU,N.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0!important}ion-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}  .mat-tab-group{height:100%;display:flex}  .mat-tab-group .mat-tab-labels{justify-content:space-around}  .mat-tab-group .mat-tab-body-wrapper{display:flex;flex-grow:1;height:100%}.sched-controls-bottom[_ngcontent-%COMP%]{position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px}.sched-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}.list-title[_ngcontent-%COMP%]{margin:10px 25px!important;display:flex}.sched-card[_ngcontent-%COMP%]{display:flex;padding:30px 20px}.sched-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-right:20px;border-right:1px solid #cccccc;justify-content:space-between}.sched-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin:0}.sched-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:flex;line-height:1;margin:0!important;font-size:60px;color:var(--ion-color-danger-tint)}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;padding-left:20px}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:absolute;right:3px;top:5px;display:flex}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-width:45px!important}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;min-width:45px!important;--border-radius: 50%!important}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;line-height:25px}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row[_ngcontent-%COMP%]{padding-top:15px!important;display:flex;flex-grow:1;flex-direction:row;justify-content:space-between}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row.border[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:15px;border-bottom:1px solid #cccccc}"]}),d})()},325:(F,E,a)=>{a.r(E),a.d(E,{SchedulePageModule:()=>ne});var f=a(9808),C=a(3075),t=a(8779),n=a(4132),v=a(655),e=a(6263),N=a(2266),q=a(8088),S=a(8365),i=a(5e3),y=a(792),M=a(263),U=a(3746),J=a(8386),Y=a(2669),Q=a(9709),x=a(8559);function O(m,b){if(1&m){const l=i.EpF();i.TgZ(0,"ion-button",15),i.NdJ("click",function(){i.CHM(l);const I=i.oxw();return i.KtG(I.history())}),i._UZ(1,"ion-icon",16),i.qZA()}}function d(m,b){if(1&m){const l=i.EpF();i.TgZ(0,"ion-refresher",17),i.NdJ("ionRefresh",function(I){i.CHM(l);const R=i.oxw();return i.KtG(R.doRefresh(I))}),i._UZ(1,"ion-refresher-content"),i.qZA()}}function p(m,b){if(1&m){const l=i.EpF();i.TgZ(0,"ion-item",22),i.NdJ("click",function(){i.CHM(l);const I=i.oxw(2);return i.KtG(I.onOpenPending())}),i.TgZ(1,"ion-label")(2,"h2"),i._uU(3,"Pending"),i.qZA()(),i.TgZ(4,"ion-badge",23),i._uU(5),i.qZA()()}if(2&m){const l=i.oxw(2);i.xp6(5),i.Oqu(l.totalPending)}}function _(m,b){1&m&&(i.TgZ(0,"ion-item"),i._UZ(1,"ion-skeleton-text",24),i.qZA()),2&m&&(i.xp6(1),i.Q6J("animated",!0))}function c(m,b){if(1&m&&(i.TgZ(0,"div")(1,"ion-card",18)(2,"ion-list",19),i.YNc(3,p,6,1,"ion-item",20),i.YNc(4,_,2,1,"ng-template",null,21,i.W1O),i.qZA()()()),2&m){const l=i.MAs(5),h=i.oxw();i.xp6(3),i.Q6J("ngIf",!h.isLoading)("ngIfElse",l)}}function Z(m,b){1&m&&(i.TgZ(0,"h2",25),i._uU(1,"Reservations"),i.qZA())}function g(m,b){if(1&m&&(i.TgZ(0,"h3",33),i._uU(1),i.qZA()),2&m){const l=i.oxw().$implicit;i.xp6(1),i.Oqu(l.massCategory.name)}}function P(m,b){if(1&m&&(i.TgZ(0,"h3",33),i._uU(1),i.qZA()),2&m){const l=i.oxw().$implicit;i.xp6(1),i.Oqu(l.massIntentionType.name)}}function w(m,b){if(1&m){const l=i.EpF();i.TgZ(0,"div")(1,"ion-card",18)(2,"div",27)(3,"div",28)(4,"span"),i._uU(5),i.ALo(6,"date"),i.qZA(),i.TgZ(7,"h2",29),i._uU(8),i.ALo(9,"date"),i.qZA(),i.TgZ(10,"span")(11,"strong"),i._uU(12),i.ALo(13,"date"),i.qZA()(),i.TgZ(14,"span"),i._uU(15),i.ALo(16,"date"),i.qZA()(),i.TgZ(17,"div",30)(18,"div",31)(19,"div",32)(20,"h3",33)(21,"strong"),i._uU(22),i.ALo(23,"numberLeadZero"),i.qZA()()()(),i.TgZ(24,"div",34)(25,"div",35)(26,"ion-buttons",3)(27,"ion-button",15),i.NdJ("click",function(){const R=i.CHM(l).$implicit,z=i.oxw(2);return i.KtG(z.showMenu(R))}),i._UZ(28,"ion-icon",36),i.qZA()()()(),i.TgZ(29,"div",34)(30,"div",37)(31,"h3"),i._uU(32,"Type"),i.qZA(),i.TgZ(33,"h3",33)(34,"strong"),i._uU(35),i.qZA()()()(),i.TgZ(36,"div",34)(37,"div",37),i.YNc(38,g,2,1,"h3",38),i.YNc(39,P,2,1,"h3",38),i.qZA()()()()()()}if(2&m){const l=b.$implicit;i.xp6(5),i.Oqu(i.xi3(6,8,l.reservationDate,"segmentChanged")),i.xp6(3),i.Oqu(i.xi3(9,11,l.reservationDate,"dd")),i.xp6(4),i.Oqu(i.xi3(13,14,l.reservationDate+" "+l.time,"hh:mm a")),i.xp6(3),i.Oqu(i.xi3(16,17,l.reservationDate,"EEEE")),i.xp6(7),i.hij("ID #: ",i.xi3(23,20,l.reservationId,5),""),i.xp6(13),i.Oqu(l.reservationType.name),i.xp6(3),i.Q6J("ngIf","1"===l.reservationType.reservationTypeId||"2"!==l.reservationType.reservationTypeId),i.xp6(1),i.Q6J("ngIf","3"===l.reservationType.reservationTypeId)}}function H(m,b){if(1&m&&(i.TgZ(0,"div",8),i.YNc(1,w,40,23,"div",26),i.qZA()),2&m){const l=i.oxw();i.xp6(1),i.Q6J("ngForOf",l.reservation)}}function W(m,b){1&m&&(i.TgZ(0,"div",39),i._UZ(1,"ion-icon",40),i.TgZ(2,"h3",41),i._uU(3,"No reservations to show"),i.qZA()())}function K(m,b){1&m&&(i.TgZ(0,"div")(1,"ion-card",18)(2,"div",27)(3,"div",42)(4,"span",43),i._UZ(5,"ion-skeleton-text",24),i.qZA(),i.TgZ(6,"h2",44),i._UZ(7,"ion-skeleton-text",24),i.qZA(),i.TgZ(8,"span",43),i._UZ(9,"ion-skeleton-text",24),i.qZA(),i.TgZ(10,"span",43),i._UZ(11,"ion-skeleton-text",24),i.qZA()(),i.TgZ(12,"div",30)(13,"div",31)(14,"div",45)(15,"h3",33),i._UZ(16,"ion-skeleton-text",24),i.qZA()()(),i.TgZ(17,"div",34)(18,"div",46)(19,"h3",33),i._UZ(20,"ion-skeleton-text",24),i.qZA()()()()()()()),2&m&&(i.xp6(5),i.Q6J("animated",!0),i.xp6(2),i.Q6J("animated",!0),i.xp6(2),i.Q6J("animated",!0),i.xp6(2),i.Q6J("animated",!0),i.xp6(5),i.Q6J("animated",!0),i.xp6(4),i.Q6J("animated",!0))}const B=function(){return[1]};function G(m,b){1&m&&(i.TgZ(0,"div"),i.YNc(1,K,21,6,"div",26),i.qZA()),2&m&&(i.xp6(1),i.Q6J("ngForOf",i.DdM(1,B)))}const X=[{path:"",component:(()=>{class m{constructor(l,h,I,R,z,ie,oe,se,ae,re,r,T){this.actionSheetController=l,this.modalCtrl=h,this.alertController=I,this.loaderService=R,this.authService=z,this.storageService=ie,this.userService=oe,this.reservationService=se,this.navController=ae,this.router=re,this.appconfig=r,this.platform=T,this.selectedStatus=["Pending","Approved"],this.isLoading=!1,this.reservationData=[],this.message="",this.serviceTypeData=[],this.currentUser=this.storageService.getLoginUser(),this.isAuthenticated&&this.getReservation(this.currentUser.clientId)}get isAuthenticated(){const l=this.storageService.getLoginUser();return l&&l.clientId&&l.userId&&l.accessToken&&""!==l.clientId&&""!==l.userId&&""!==l.accessToken}get reservation(){return this.reservationData.filter(l=>"2"===l.reservationStatus.reservationStatusId)}get totalPending(){return this.reservationData.filter(l=>"1"===l.reservationStatus.reservationStatusId).length}ngOnInit(){return(0,v.mG)(this,void 0,void 0,function*(){})}ionViewWillEnter(){console.log("visited")}ionViewDidEnter(){this.subscription=this.platform.backButton.subscribeWithPriority(9999,()=>{document.addEventListener("backbutton",l=>{l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation()},!1)})}ionViewWillLeave(){this.subscription.unsubscribe()}getReservation(l){return(0,v.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.reservationService.getByStatus({clientId:l,reservationStatus:this.selectedStatus.toString()}).subscribe(h=>(0,v.mG)(this,void 0,void 0,function*(){h.success?(this.reservationData=h.data,this.refreshEvent&&(this.refreshEvent.target.complete(),this.refreshEvent=null),this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(h.message)?h.message[0]:h.message,buttons:["OK"]})}),h=>(0,v.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(h.message)?h.message[0]:h.message,buttons:["OK"]}),this.isLoading=!1}))}catch(h){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(h.message)?h.message[0]:h.message,buttons:["OK"]})}})}doRefresh(l){return(0,v.mG)(this,void 0,void 0,function*(){this.refreshEvent=l,yield this.getReservation(this.currentUser.clientId)})}showMenu(l){return(0,v.mG)(this,void 0,void 0,function*(){const h=yield this.actionSheetController.create({cssClass:"sched-card-action-sheet",buttons:[{text:"Details",handler:()=>(0,v.mG)(this,void 0,void 0,function*(){this.onOpenDetails(l),h.dismiss()})},{text:"Back",handler:()=>(0,v.mG)(this,void 0,void 0,function*(){h.dismiss()})}]});yield h.present(),yield h.onDidDismiss()})}segmentChanged(l){}onOpenAdd(){return(0,v.mG)(this,void 0,void 0,function*(){let l=null;l=yield this.modalCtrl.create({component:e.t,cssClass:"modal-fullscreen",backdropDismiss:!1,canDismiss:!1,componentProps:{modal:l,isNew:!0,currentUser:this.currentUser,durationInHours:1}}),l.present();const{role:I}=yield l.onWillDismiss();"confirm"===I&&(yield this.getReservation(this.currentUser.clientId))})}onOpenPending(){return(0,v.mG)(this,void 0,void 0,function*(){let l=null;l=yield this.modalCtrl.create({component:N.W,cssClass:"modal-fullscreen",componentProps:{currentUser:this.currentUser}}),l.onWillDismiss().then(h=>{h.data&&this.getReservation(this.currentUser.clientId)}),l.present(),yield l.onWillDismiss()})}onOpenDetails(l){return(0,v.mG)(this,void 0,void 0,function*(){const h=yield this.modalCtrl.create({component:q.k,cssClass:"modal-fullscreen",componentProps:{details:l,currentUser:this.currentUser}});h.present(),yield h.onWillDismiss()})}history(){return(0,v.mG)(this,void 0,void 0,function*(){let l=null;l=yield this.modalCtrl.create({component:S.O,cssClass:"modal-fullscreen",componentProps:{currentUser:this.currentUser}}),l.present(),yield l.onWillDismiss()})}presentAlert(l){return(0,v.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(l)).present()})}logout(){this.authService.logout()}}return m.\u0275fac=function(l){return new(l||m)(i.Y36(t.BX),i.Y36(t.IN),i.Y36(t.Br),i.Y36(y.D),i.Y36(M.e),i.Y36(U.V),i.Y36(J.K),i.Y36(Y.D),i.Y36(t.SH),i.Y36(n.F0),i.Y36(Q._),i.Y36(t.t4))},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-schedule"]],decls:20,vars:10,consts:[["no-border","","no-shadow",""],["slot","start",2,"width","48px"],[2,"text-align","center"],["slot","end"],[3,"click",4,"ngIf"],["fullscreen",""],["slot","fixed","class","refresher-custom",3,"ionRefresh",4,"ngIf"],[4,"ngIf"],[2,"display","flex","flex-direction","column"],["class","list-title",4,"ngIf"],["style","display: flex; flex-direction: column;",4,"ngIf","ngIfElse"],["elseNoData",""],["elseLoading",""],[1,"sched-controls-bottom"],["color","primary","size","large","expand","block",3,"disabled","click"],[3,"click"],["slot","icon-only","name","time-outline"],["slot","fixed",1,"refresher-custom",3,"ionRefresh"],["mode","ios"],["lines","none"],["button","",3,"click",4,"ngIf","ngIfElse"],["elseLoadingPending",""],["button","",3,"click"],["color","primary"],[3,"animated"],[1,"list-title"],[4,"ngFor","ngForOf"],[1,"sched-card"],[1,"card-header"],[1,"date"],[1,"card-content"],[1,"content-row","border"],[1,"field"],[1,"value"],[1,"content-row"],[1,"field","action"],["name","ellipsis-vertical-sharp"],[1,"field","type"],["class","value",4,"ngIf"],[1,"no-records"],["name","search-outline",2,"font-size","4em"],[1,"text"],[1,"card-header",2,"width","90px!important"],[2,"width","100%!important"],[1,"date",2,"width","100%!important"],[1,"field","vet",2,"width","100%!important"],[1,"field","type",2,"width","100%!important"]],template:function(l,h){if(1&l&&(i.TgZ(0,"ion-header",0)(1,"ion-toolbar"),i._UZ(2,"div",1),i.TgZ(3,"ion-title",2),i._uU(4,"Schedule"),i.qZA(),i.TgZ(5,"ion-buttons",3),i.YNc(6,O,2,0,"ion-button",4),i.qZA()()(),i.TgZ(7,"ion-content",5),i.YNc(8,d,2,0,"ion-refresher",6),i.YNc(9,c,6,2,"div",7),i.TgZ(10,"div",8),i.YNc(11,Z,2,0,"h2",9),i.YNc(12,H,2,1,"div",10),i.YNc(13,W,4,0,"ng-template",null,11,i.W1O),i.qZA(),i.YNc(15,G,2,2,"ng-template",null,12,i.W1O),i.qZA(),i.TgZ(17,"div",13)(18,"ion-button",14),i.NdJ("click",function(){return h.isAuthenticated?h.onOpenAdd():h.logout()}),i._uU(19),i.qZA()()),2&l){const I=i.MAs(14);i.xp6(6),i.Q6J("ngIf",h.isAuthenticated),i.xp6(2),i.Q6J("ngIf",!h.isLoading&&h.isAuthenticated),i.xp6(1),i.Q6J("ngIf",h.isAuthenticated),i.xp6(1),i.Akn(h.isAuthenticated?"height: 60%":"height: 100%"),i.xp6(1),i.Q6J("ngIf",h.isAuthenticated),i.xp6(1),i.Q6J("ngIf",h.reservation.length>0)("ngIfElse",I),i.xp6(6),i.Q6J("disabled",h.isLoading),i.xp6(1),i.Oqu(h.isAuthenticated?"Book new Reservation":"Login to book reservation")}},dependencies:[f.sg,f.O5,t.yp,t.YG,t.Sm,t.PM,t.W2,t.Gu,t.gu,t.Ie,t.Q$,t.q_,t.nJ,t.Wo,t.CK,t.wd,t.sr,f.uU,x.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0!important}  .mat-tab-group{height:100%;display:flex}  .mat-tab-group .mat-tab-labels{justify-content:space-around}  .mat-tab-group .mat-tab-body-wrapper{display:flex;flex-grow:1;height:100%}.sched-controls-bottom[_ngcontent-%COMP%]{z-index:1000;position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px;box-shadow:0 3px 10px #0003}.sched-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}.list-title[_ngcontent-%COMP%]{margin:10px 25px!important;display:flex}.sched-card[_ngcontent-%COMP%]{display:flex;padding:30px 20px}.sched-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-right:20px;border-right:1px solid #cccccc;justify-content:space-between}.sched-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin:0}.sched-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:flex;line-height:1;margin:0!important;font-size:60px;color:var(--ion-color-danger-tint)}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;padding-left:20px}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:absolute;right:3px;top:5px;display:flex}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-width:45px!important}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;min-width:45px!important;--border-radius: 50%!important}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;line-height:25px}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row[_ngcontent-%COMP%]{padding-top:15px!important;display:flex;flex-grow:1;flex-direction:row;justify-content:space-between}.sched-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row.border[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:15px;border-bottom:1px solid #cccccc}"]}),m})()},{path:"schedule-details",loadChildren:()=>a.e(8553).then(a.bind(a,8553)).then(m=>m.ScheduleDetailsPageModule)},{path:"add-schedule",loadChildren:()=>a.e(2330).then(a.bind(a,2330)).then(m=>m.AddSchedulePageModule)},{path:"schedule-pending",loadChildren:()=>a.e(3311).then(a.bind(a,3311)).then(m=>m.SchedulePendingPageModule)},{path:"schedule-history",loadChildren:()=>a.e(4415).then(a.bind(a,4415)).then(m=>m.ScheduleHistoryPageModule)}];let V=(()=>{class m{}return m.\u0275fac=function(l){return new(l||m)},m.\u0275mod=i.oAB({type:m}),m.\u0275inj=i.cJS({imports:[n.Bz.forChild(X),n.Bz]}),m})();var ee=a(5268),te=a(5815);let ne=(()=>{class m{}return m.\u0275fac=function(l){return new(l||m)},m.\u0275mod=i.oAB({type:m}),m.\u0275inj=i.cJS({imports:[f.ez,C.u5,t.Pc,C.UX,V,ee.q,te.d]}),m})()}}]);