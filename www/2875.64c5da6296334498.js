"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2875],{9305:(w,Z,o)=>{o.d(Z,{s:()=>R});var _=o(1086),f=o(2868),t=o(7221),i=o(2340),h=o(5e3),e=o(520),D=o(9709);let R=(()=>{class T{constructor(q,C){this.http=q,this.appconfig=C}getByStatus(q){return this.http.get(i.N.apiBaseUrl+this.appconfig.config.apiEndPoints.request.getByStatus,{params:q}).pipe((0,f.b)(C=>this.log("request")),(0,t.K)(this.handleError("request",[])))}getById(q){return this.http.get(i.N.apiBaseUrl+this.appconfig.config.apiEndPoints.request.getById+q).pipe((0,f.b)(C=>this.log("request")),(0,t.K)(this.handleError("request",[])))}getRequestsForADay(q){return this.http.get(i.N.apiBaseUrl+this.appconfig.config.apiEndPoints.request.getRequestForADay+q).pipe((0,f.b)(C=>this.log("request")),(0,t.K)(this.handleError("request",[])))}createBaptismalCertificateRequest(q){return this.http.post(i.N.apiBaseUrl+this.appconfig.config.apiEndPoints.request.createBaptismalCertificateRequest,q).pipe((0,f.b)(C=>this.log("request")),(0,t.K)(this.handleError("request",[])))}createConfirmationCertificateReques(q){return this.http.post(i.N.apiBaseUrl+this.appconfig.config.apiEndPoints.request.createConfirmationCertificateReques,q).pipe((0,f.b)(C=>this.log("request")),(0,t.K)(this.handleError("request",[])))}createMarriageContractCertificateReques(q){return this.http.post(i.N.apiBaseUrl+this.appconfig.config.apiEndPoints.request.createMarriageContractCertificateReques,q).pipe((0,f.b)(C=>this.log("request")),(0,t.K)(this.handleError("request",[])))}updateRequestStatus(q){return this.http.put(i.N.apiBaseUrl+this.appconfig.config.apiEndPoints.request.updateRequestStatus,q).pipe((0,f.b)(C=>this.log("request")),(0,t.K)(this.handleError("request",[])))}handleError(q="operation",C){return A=>(this.log(`${q} failed: ${Array.isArray(A.error.message)?A.error.message[0]:A.error.message}`),(0,_.of)(A.error))}log(q){console.log(q)}}return T.\u0275fac=function(q){return new(q||T)(h.LFG(e.eN),h.LFG(D._))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},2998:(w,Z,o)=>{o.d(Z,{l:()=>K});var _=o(655),f=o(3075),t=o(8779),i=o(5439),e=o(5e3),D=o(9305),R=o(7956),T=o(9709),n=o(2313),q=o(9808),C=o(2081),A=o(7322),E=o(7531);const v=["requestStepper"],M=["selectReferenceDateCtrl"];function l(d,x){1&d&&(e.TgZ(0,"span",35),e._uU(1," Please select a request type "),e.qZA())}function m(d,x){1&d&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Full name"),e.qZA(),e.TgZ(3,"mat-form-field",28)(4,"mat-label"),e._uU(5,"Full name"),e.qZA(),e._UZ(6,"input",36),e.qZA()())}function a(d,x){1&d&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Name of the Husband"),e.qZA(),e.TgZ(3,"mat-form-field",28)(4,"mat-label"),e._uU(5,"Name of the Husband"),e.qZA(),e._UZ(6,"input",37),e.qZA()())}function c(d,x){1&d&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Name of the Wife"),e.qZA(),e.TgZ(3,"mat-form-field",28)(4,"mat-label"),e._uU(5,"Name of the Wife"),e.qZA(),e._UZ(6,"input",38),e.qZA()())}function y(d,x){1&d&&e._UZ(0,"ion-datetime",41,42),2&d&&e.Q6J("showDefaultButtons",!0)}function I(d,x){if(1&d&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Select date baptized"),e.qZA(),e.TgZ(3,"ion-item",39)(4,"ion-label"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"ion-modal",40),e.YNc(8,y,2,1,"ng-template"),e.qZA()()),2&d){const s=e.oxw();e.xp6(3),e.Q6J("disabled",s.isLoading),e.xp6(2),e.Oqu(e.xi3(6,3,s.formData.dateBaptized,"EEEE, MMMM d, y")),e.xp6(2),e.Q6J("cssClass","bottom-end")}}function N(d,x){1&d&&e._UZ(0,"ion-datetime",43,42),2&d&&e.Q6J("showDefaultButtons",!0)}function L(d,x){if(1&d&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Select date of confirmation"),e.qZA(),e.TgZ(3,"ion-item",39)(4,"ion-label"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"ion-modal",40),e.YNc(8,N,2,1,"ng-template"),e.qZA()()),2&d){const s=e.oxw();e.xp6(3),e.Q6J("disabled",s.isLoading),e.xp6(2),e.Oqu(e.xi3(6,3,s.formData.dateOfConfirmation,"EEEE, MMMM d, y")),e.xp6(2),e.Q6J("cssClass","bottom-end")}}function J(d,x){1&d&&e._UZ(0,"ion-datetime",44,42),2&d&&e.Q6J("showDefaultButtons",!0)}function B(d,x){if(1&d&&(e.TgZ(0,"div",16)(1,"mat-label",0),e._uU(2,"Select date married"),e.qZA(),e.TgZ(3,"ion-item",39)(4,"ion-label"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"ion-modal",40),e.YNc(8,J,2,1,"ng-template"),e.qZA()()),2&d){const s=e.oxw();e.xp6(3),e.Q6J("disabled",s.isLoading),e.xp6(2),e.Oqu(e.xi3(6,3,s.formData.dateMarried,"EEEE, MMMM d, y")),e.xp6(2),e.Q6J("cssClass","bottom-end")}}function Y(d,x){if(1&d&&(e.TgZ(0,"ion-label")(1,"h3",48)(2,"strong"),e._uU(3),e.qZA()(),e.TgZ(4,"p",48),e._uU(5,"Request type"),e.qZA()()),2&d){const s=e.oxw(2);e.xp6(3),e.Oqu(s.previewData.requestType)}}function Q(d,x){if(1&d&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",48)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",48),e._uU(6,"Full name"),e.qZA()()()),2&d){const s=e.oxw(2);e.xp6(4),e.Oqu(s.previewData.requestersFullName)}}function k(d,x){if(1&d&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",48)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",48),e._uU(6,"Name of the Husband"),e.qZA()()()),2&d){const s=e.oxw(2);e.xp6(4),e.Oqu(s.previewData.husbandFullName)}}function V(d,x){if(1&d&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",48)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",48),e._uU(6,"Name of the Wife"),e.qZA()()()),2&d){const s=e.oxw(2);e.xp6(4),e.Oqu(s.previewData.wifeFullName)}}function G(d,x){if(1&d&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",48)(3,"strong"),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"p",48),e._uU(7,"Date baptized"),e.qZA()()()),2&d){const s=e.oxw(2);e.xp6(4),e.Oqu(e.xi3(5,1,s.previewData.dateBaptized,"MMM dd, yyyy"))}}function W(d,x){if(1&d&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",48)(3,"strong"),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"p",48),e._uU(7,"Date of confirmation"),e.qZA()()()),2&d){const s=e.oxw(2);e.xp6(4),e.Oqu(e.xi3(5,1,s.previewData.dateOfConfirmation,"MMM dd, yyyy"))}}function H(d,x){if(1&d&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",48)(3,"strong"),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"p",48),e._uU(7,"Date married"),e.qZA()()()),2&d){const s=e.oxw(2);e.xp6(4),e.Oqu(e.xi3(5,1,s.previewData.dateMarried,"MMM dd, yyyy"))}}function z(d,x){if(1&d&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3",48)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"p",48),e._uU(6,"Remarks"),e.qZA()()()),2&d){const s=e.oxw(2);e.xp6(4),e.Oqu(s.previewData.remarks)}}function j(d,x){if(1&d&&(e.TgZ(0,"ion-content")(1,"h3",45)(2,"strong"),e._uU(3,"Preview"),e.qZA()(),e.TgZ(4,"ion-list",46)(5,"ion-item"),e.YNc(6,Y,6,1,"ion-label",47),e.qZA(),e.YNc(7,Q,7,1,"ion-item",47),e.YNc(8,k,7,1,"ion-item",47),e.YNc(9,V,7,1,"ion-item",47),e.YNc(10,G,8,4,"ion-item",47),e.YNc(11,W,8,4,"ion-item",47),e.YNc(12,H,8,4,"ion-item",47),e.YNc(13,z,7,1,"ion-item",47),e.qZA()()),2&d){const s=e.oxw(),r=e.MAs(19);e.xp6(6),e.Q6J("ngIf",s.previewData.requestType&&""!==s.previewData.requestType),e.xp6(1),e.Q6J("ngIf",r.selectedIndex>=1&&"3"!==s.formData.requestTypeId&&s.previewData.requestersFullName&&""!==s.previewData.requestersFullName),e.xp6(1),e.Q6J("ngIf",r.selectedIndex>=1&&"3"===s.formData.requestTypeId&&s.previewData.husbandFullName&&""!==s.previewData.husbandFullName),e.xp6(1),e.Q6J("ngIf",r.selectedIndex>=1&&"3"===s.formData.requestTypeId&&s.previewData.wifeFullName&&""!==s.previewData.wifeFullName),e.xp6(1),e.Q6J("ngIf",r.selectedIndex>=1&&"1"===s.formData.requestTypeId&&s.previewData.requestersFullName&&""!==s.previewData.requestersFullName),e.xp6(1),e.Q6J("ngIf",r.selectedIndex>=1&&"2"===s.formData.requestTypeId&&s.previewData.requestersFullName&&""!==s.previewData.requestersFullName),e.xp6(1),e.Q6J("ngIf",r.selectedIndex>=1&&"3"===s.formData.requestTypeId&&s.previewData.husbandFullName&&""!==s.previewData.husbandFullName&&s.previewData.wifeFullName&&""!==s.previewData.wifeFullName),e.xp6(1),e.Q6J("ngIf",2===r.selectedIndex&&s.previewData.remarks&&""!==s.previewData.remarks)}}function g(d,x){if(1&d){const s=e.EpF();e.TgZ(0,"ion-button",49),e.NdJ("click",function(){e.CHM(s),e.oxw();const P=e.MAs(19);return e.KtG(P.next())}),e._uU(1,"Next"),e.qZA()}if(2&d){const s=e.oxw();e.Q6J("disabled",s.isLoading||!s.selectRequestTypeForm.valid)}}function O(d,x){if(1&d){const s=e.EpF();e.TgZ(0,"ion-button",49),e.NdJ("click",function(){e.CHM(s),e.oxw();const P=e.MAs(19);return e.KtG(P.next())}),e._uU(1,"Next"),e.qZA()}if(2&d){const s=e.oxw();e.Q6J("disabled",s.isLoading||!s.requestDetailsForm.valid)}}function u(d,x){if(1&d){const s=e.EpF();e.TgZ(0,"ion-button",49),e.NdJ("click",function(){e.CHM(s);const P=e.oxw();return e.KtG(P.save())}),e._uU(1,"Save"),e.qZA()}if(2&d){const s=e.oxw();e.Q6J("disabled",s.isLoading||!s.remarksForm.valid)}}function p(d,x){if(1&d){const s=e.EpF();e.TgZ(0,"ion-button",50),e.NdJ("click",function(){e.CHM(s),e.oxw();const P=e.MAs(19);return e.KtG(P.previous())}),e._uU(1,"Back"),e.qZA()}}const b=function(d){return{display:d}},S=function(){return[0,.25,.5,.8,1]};let K=(()=>{class d{constructor(s,r,P,F,U,X,$,ee,te){this.modalCtrl=s,this.formBuilder=r,this.alertController=P,this.requestService=F,this.actionSheetController=U,this.pageLoaderService=X,this.appconfig=$,this.platform=ee,this.sanitizer=te,this.durationInHours=1,this.isNew=!1,this.details={},this.isSubmitting=!1,this.isLoading=!1,this.requestTypeOption=[],this.allowToClose=!1,this.availableTimeSlot=[],this.currentDate=new Date,this.minDate=new Date((new Date).setDate(this.currentDate.getDate()+1)).toISOString(),this.requestTypeOption=this.appconfig.config.lookup.requestType,console.log(this.requestTypeOption),this.platform.backButton.subscribeWithPriority(-1,()=>{this.cancel()})}get formData(){return{dateBaptized:this.requestDetailsForm.value.dateBaptized?i(this.requestDetailsForm.value.dateBaptized).format("YYYY-MM-DD"):null,dateOfConfirmation:this.requestDetailsForm.value.dateOfConfirmation?i(this.requestDetailsForm.value.dateOfConfirmation).format("YYYY-MM-DD"):null,dateMarried:this.requestDetailsForm.value.dateMarried?i(this.requestDetailsForm.value.dateMarried).format("YYYY-MM-DD"):null,clientId:this.currentUser.clientId,requestersFullName:this.requestDetailsForm.value.requestersFullName,husbandFullName:this.requestDetailsForm.value.husbandFullName,wifeFullName:this.requestDetailsForm.value.wifeFullName,requestTypeId:this.selectRequestTypeForm.valid?this.selectRequestTypeForm.value.requestTypeId:null,remarks:this.remarksForm.value.remarks}}get errorControls(){return Object.assign(Object.assign(Object.assign({},this.selectRequestTypeForm.controls),this.requestDetailsForm?this.requestDetailsForm.controls:null),this.remarksForm.controls)}get previewData(){return{requestType:this.formData.requestTypeId?this.appconfig.config.lookup.requestType.filter(s=>Number(s.requestTypeId)===Number(this.formData.requestTypeId))[0].name:"",dateBaptized:this.formData.dateBaptized,dateOfConfirmation:this.formData.dateOfConfirmation,dateMarried:this.formData.dateMarried,requestersFullName:this.formData.requestersFullName,husbandFullName:this.formData.husbandFullName,wifeFullName:this.formData.wifeFullName,remarks:this.formData.remarks}}ngOnInit(){this.selectRequestTypeForm=this.formBuilder.group({requestTypeId:["",[f.kI.required]]}),this.requestDetailsForm=this.formBuilder.group({dateBaptized:[this.minDate],dateOfConfirmation:[this.minDate],dateMarried:[this.minDate],husbandFullName:[null],requestersFullName:[null],wifeFullName:[null]}),this.remarksForm=this.formBuilder.group({remarks:[]}),this.allowToClose=!0,this.subscription=this.platform.backButton.subscribeWithPriority(9999,s=>{this.modal.canDismiss&&this.cancel(),this.pageLoaderService.close()}),this.addEventSelectRequestTypeForm()}addEventSelectRequestTypeForm(){this.selectRequestTypeForm.get("requestTypeId").valueChanges.subscribe(s=>(0,_.mG)(this,void 0,void 0,function*(){1===Number(s)?(this.requestDetailsForm=this.formBuilder.group({dateBaptized:[this.minDate],requestersFullName:[null]}),this.requestDetailsForm.controls.dateBaptized.addValidators([f.kI.required]),this.requestDetailsForm.controls.requestersFullName.addValidators([f.kI.required])):2===Number(s)?(this.requestDetailsForm=this.formBuilder.group({dateOfConfirmation:[this.minDate],requestersFullName:[null]}),this.requestDetailsForm.controls.dateOfConfirmation.addValidators([f.kI.required]),this.requestDetailsForm.controls.requestersFullName.addValidators([f.kI.required])):(this.requestDetailsForm=this.formBuilder.group({dateMarried:[this.minDate],husbandFullName:[null],wifeFullName:[null]}),this.remarksForm=this.formBuilder.group({remarks:[]}),this.requestDetailsForm.controls.dateMarried.addValidators([f.kI.required]),this.requestDetailsForm.controls.husbandFullName.addValidators([f.kI.required]),this.requestDetailsForm.controls.wifeFullName.addValidators([f.kI.required]))}))}ionViewWillLeave(){this.subscription.unsubscribe()}onSelectFocus(s,r){console.log("click"),setTimeout(()=>{s.setValue(r)},1e3)}cancel(){0!==this.requestStepper.selectedIndex?(1===this.requestStepper.selectedIndex&&(this.selectRequestTypeForm=this.formBuilder.group({requestTypeId:[null,[f.kI.required]]}),this.requestDetailsForm=this.formBuilder.group({dateBaptized:[this.minDate],dateOfConfirmation:[this.minDate],dateMarried:[this.minDate],requestersFullName:[null],husbandFullName:[null],wifeFullName:[null]}),this.remarksForm=this.formBuilder.group({remarks:[]})),this.requestStepper.selectedIndex=this.requestStepper.selectedIndex-1,this.addEventSelectRequestTypeForm()):(this.modal.canDismiss=!0,this.modalCtrl.dismiss(null,"cancel"))}save(){return(0,_.mG)(this,void 0,void 0,function*(){const s=this.formData;console.log(s);try{yield this.pageLoaderService.open("Submitting request..."),this.isSubmitting=!0,"1"===s.requestTypeId?this.requestService.createBaptismalCertificateRequest(s).subscribe(r=>(0,_.mG)(this,void 0,void 0,function*(){r.success?(yield this.presentAlert({header:"Request sent!",buttons:["OK"]}),this.isSubmitting=!1,this.modal.canDismiss=!0,this.modal.dismiss({success:!0,data:r.data},"confirm"),yield this.pageLoaderService.close()):(yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(r.message)?r.message[0]:r.message,buttons:["OK"]}))}),r=>(0,_.mG)(this,void 0,void 0,function*(){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(r.message)?r.message[0]:r.message,buttons:["OK"]})})):"2"===s.requestTypeId?this.requestService.createConfirmationCertificateReques(s).subscribe(r=>(0,_.mG)(this,void 0,void 0,function*(){r.success?(yield this.presentAlert({header:"Request sent!",buttons:["OK"]}),this.isSubmitting=!1,this.modal.canDismiss=!0,this.modal.dismiss({success:!0,data:r.data},"confirm"),yield this.pageLoaderService.close()):(yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(r.message)?r.message[0]:r.message,buttons:["OK"]}))}),r=>(0,_.mG)(this,void 0,void 0,function*(){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(r.message)?r.message[0]:r.message,buttons:["OK"]})})):this.requestService.createMarriageContractCertificateReques(s).subscribe(r=>(0,_.mG)(this,void 0,void 0,function*(){r.success?(yield this.presentAlert({header:"Request sent!",buttons:["OK"]}),this.isSubmitting=!1,this.modal.canDismiss=!0,this.modal.dismiss({success:!0,data:r.data},"confirm"),yield this.pageLoaderService.close()):(yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(r.message)?r.message[0]:r.message,buttons:["OK"]}))}),r=>(0,_.mG)(this,void 0,void 0,function*(){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(r.message)?r.message[0]:r.message,buttons:["OK"]})}))}catch(r){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(r.message)?r.message[0]:r.message,buttons:["OK"]})}})}presentAlert(s){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(s)).present()})}}return d.\u0275fac=function(s){return new(s||d)(e.Y36(t.IN),e.Y36(f.qu),e.Y36(t.Br),e.Y36(D.s),e.Y36(t.BX),e.Y36(R.p),e.Y36(T._),e.Y36(t.t4),e.Y36(n.H7))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-add-request"]],viewQuery:function(s,r){if(1&s&&(e.Gf(v,5),e.Gf(t.ki,5),e.Gf(M,7)),2&s){let P;e.iGM(P=e.CRH())&&(r.requestStepper=P.first),e.iGM(P=e.CRH())&&(r.timeSlotModal=P.first),e.iGM(P=e.CRH())&&(r.selectReferenceDateCtrl=P.first)}},decls:65,vars:28,consts:[["slot","start"],[3,"click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],[3,"ngStyle"],[2,"display","flex","width","100%","padding","16px","align-items","center"],[2,"display","flex","width","100%"],["slot","end"],["id","open-modal-preview"],["name","chevron-down-circle"],[1,"ion-padding"],["animationDuration","200",3,"linear"],["requestStepper",""],["label","Fill out your address",3,"stepControl"],["id","selectRequestTypeForm",3,"formGroup","ngSubmit"],[1,"form-field-group"],["formControlName","requestTypeId"],["fill","outline","lines","none"],["slot","end","value","1",3,"disabled"],["slot","end","value","2",3,"disabled"],["slot","end","value","3",3,"disabled"],["class","error",4,"ngIf"],[3,"stepControl"],["id","requestDetailsForm",3,"formGroup","ngSubmit"],[3,"disabled"],["class","form-field-group",4,"ngIf"],["id","remarksForm",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","placeholder","Remarks","formControlName","remarks",2,"height","200px"],["trigger","open-modal-preview","animated","true","swipeToClose","true","showBackdrop","true","canDismiss","true","handle","true","handleBehavior","cycle","backdropDismiss","true",3,"initialBreakpoint","breakpoints"],["modal",""],[1,"req-controls-bottom"],["color","primary","size","large","expand","block",3,"disabled","click",4,"ngIf"],["color","primary","size","large","expand","block","fill","outline",3,"click",4,"ngIf"],[1,"error"],["matInput","","type","text","placeholder","Full name","formControlName","requestersFullName"],["matInput","","type","text","placeholder","Name of the Husband","formControlName","husbandFullName"],["matInput","","type","text","placeholder","Name of the Wife","formControlName","wifeFullName"],["id","open-reference-date-picker","fill","outline","lines","none",3,"disabled"],["trigger","open-reference-date-picker",3,"cssClass"],["presentation","date","size","cover","formControlName","dateBaptized",3,"showDefaultButtons"],["selectReferenceDateCtrl",""],["presentation","date","size","cover","formControlName","dateOfConfirmation",3,"showDefaultButtons"],["presentation","date","size","cover","formControlName","dateMarried",3,"showDefaultButtons"],[2,"color","rgba(0,0,0)!important","margin","20px 20px 0 20px!important","text-align","center"],["lines","none"],[4,"ngIf"],[2,"color","black"],["color","primary","size","large","expand","block",3,"disabled","click"],["color","primary","size","large","expand","block","fill","outline",3,"click"]],template:function(s,r){if(1&s){const P=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.NdJ("click",function(){return r.cancel()}),e._UZ(4,"ion-icon",2),e.qZA()(),e.TgZ(5,"ion-title",3),e._uU(6,"New Request"),e.qZA(),e._UZ(7,"div",4),e.qZA(),e.TgZ(8,"ion-toolbar",5)(9,"div",6)(10,"h3",0)(11,"strong"),e._uU(12,"Preview"),e.qZA()(),e._UZ(13,"div",7),e.TgZ(14,"ion-buttons",8)(15,"ion-button",9),e._UZ(16,"ion-icon",10),e.qZA()()()()(),e.TgZ(17,"ion-content",11)(18,"mat-stepper",12,13)(20,"mat-step",14)(21,"form",15),e.NdJ("ngSubmit",function(){e.CHM(P);const U=e.MAs(19);return e.KtG(!!r.selectRequestTypeForm.valid&&U.next())}),e.TgZ(22,"fieldset")(23,"div",16)(24,"mat-label"),e._uU(25,"Select request type"),e.qZA(),e.TgZ(26,"ion-radio-group",17)(27,"ion-item",18)(28,"ion-label"),e._uU(29,"Baptismal Certificate"),e.qZA(),e._UZ(30,"ion-radio",19),e.qZA(),e.TgZ(31,"ion-item",18)(32,"ion-label"),e._uU(33,"Certificate of Confirmation"),e.qZA(),e._UZ(34,"ion-radio",20),e.qZA(),e.TgZ(35,"ion-item",18)(36,"ion-label"),e._uU(37,"Marriage Contract"),e.qZA(),e._UZ(38,"ion-radio",21),e.qZA()(),e.YNc(39,l,2,0,"span",22),e.qZA()()()(),e.TgZ(40,"mat-step",23)(41,"form",24),e.NdJ("ngSubmit",function(){e.CHM(P);const U=e.MAs(19);return e.KtG(!!r.requestDetailsForm.valid&&U.next())}),e.TgZ(42,"fieldset",25),e.YNc(43,m,7,0,"div",26),e.YNc(44,a,7,0,"div",26),e.YNc(45,c,7,0,"div",26),e.YNc(46,I,9,6,"div",26),e.YNc(47,L,9,6,"div",26),e.YNc(48,B,9,6,"div",26),e.qZA()()(),e.TgZ(49,"mat-step",23)(50,"form",27),e.NdJ("ngSubmit",function(){e.CHM(P);const U=e.MAs(19);return e.KtG(!!r.remarksForm.valid&&U.next())}),e.TgZ(51,"fieldset")(52,"div",16)(53,"mat-form-field",28)(54,"mat-label"),e._uU(55,"Remarks(Optional)"),e.qZA(),e._UZ(56,"textarea",29),e.qZA()()()()()(),e.TgZ(57,"ion-modal",30,31),e.YNc(59,j,14,8,"ng-template"),e.qZA()(),e.TgZ(60,"div",32),e.YNc(61,g,2,1,"ion-button",33),e.YNc(62,O,2,1,"ion-button",33),e.YNc(63,u,2,1,"ion-button",33),e.YNc(64,p,2,0,"ion-button",34),e.qZA()}if(2&s){const P=e.MAs(19);e.xp6(8),e.Q6J("ngStyle",e.VKq(25,b,r.previewData.requestType&&""!==r.previewData.requestType?"":"none")),e.xp6(10),e.Q6J("linear",!1),e.xp6(2),e.Q6J("stepControl",r.selectRequestTypeForm),e.xp6(1),e.Q6J("formGroup",r.selectRequestTypeForm),e.xp6(9),e.Q6J("disabled",r.isLoading),e.xp6(4),e.Q6J("disabled",r.isLoading),e.xp6(4),e.Q6J("disabled",r.isLoading),e.xp6(1),e.Q6J("ngIf",r.errorControls.requestTypeId.touched&&r.errorControls.requestTypeId.errors&&r.errorControls.requestTypeId.errors.required),e.xp6(1),e.Q6J("stepControl",r.requestDetailsForm),e.xp6(1),e.Q6J("formGroup",r.requestDetailsForm),e.xp6(1),e.Q6J("disabled",r.isSubmitting||r.isLoading),e.xp6(1),e.Q6J("ngIf",r.formData.requestTypeId&&"3"!==r.formData.requestTypeId),e.xp6(1),e.Q6J("ngIf",r.formData.requestTypeId&&"3"===r.formData.requestTypeId),e.xp6(1),e.Q6J("ngIf",r.formData.requestTypeId&&"3"===r.formData.requestTypeId),e.xp6(1),e.Q6J("ngIf",r.formData.requestTypeId&&"1"===r.formData.requestTypeId),e.xp6(1),e.Q6J("ngIf",r.formData.requestTypeId&&"2"===r.formData.requestTypeId),e.xp6(1),e.Q6J("ngIf",r.formData.requestTypeId&&"3"===r.formData.requestTypeId),e.xp6(1),e.Q6J("stepControl",r.remarksForm),e.xp6(1),e.Q6J("formGroup",r.remarksForm),e.xp6(7),e.Q6J("initialBreakpoint",.5)("breakpoints",e.DdM(27,S)),e.xp6(4),e.Q6J("ngIf",0===P.selectedIndex),e.xp6(1),e.Q6J("ngIf",1===P.selectedIndex),e.xp6(1),e.Q6J("ngIf",2===P.selectedIndex),e.xp6(1),e.Q6J("ngIf",P.selectedIndex>0&&P.selectedIndex<=2)}},dependencies:[q.O5,q.PC,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,t.YG,t.Sm,t.W2,t.x4,t.Gu,t.gu,t.Ie,t.Q$,t.q_,t.B7,t.se,t.wd,t.sr,t.ki,t.U5,t.QI,C.C0,C.Vq,A.KE,A.hX,E.Nt,q.uU],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin:0!important}.req-controls-bottom[_ngcontent-%COMP%]{position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px;box-shadow:0 3px 10px #0003}.req-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}  mat-stepper .mat-horizontal-stepper-header-container{display:none!important}  mat-stepper .mat-horizontal-content-container{padding:0!important}ion-radio-group.hide-radio-controls[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{visibility:hidden!important}#selectTimeSlotForm[_ngcontent-%COMP%]{display:flex!important;height:100%}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{flex-grow:1;display:flex!important}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .form-field-group[_ngcontent-%COMP%]{flex-grow:0!important}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .no-time-slot-available[_ngcontent-%COMP%]{flex-grow:1;display:flex!important;flex-direction:column;align-items:center;text-align:center;justify-content:center}.photos[_ngcontent-%COMP%]{row-gap:10px;display:flex;flex-direction:column;box-sizing:border-box;width:100%;padding:10px}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:auto}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{position:absolute;right:30px;width:40px;height:40px}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:10px;object-position:center;object-fit:contain;box-shadow:0 0 10px #7a7a7a75}"]}),d})()},8528:(w,Z,o)=>{o.d(Z,{J:()=>M});var _=o(655),f=o(5439),i=o(5e3),h=o(8779),e=o(7956),D=o(3746),R=o(8386),T=o(9709),n=o(9305),q=o(9808),C=o(8559);function A(l,m){if(1&l&&(i.TgZ(0,"div",10)(1,"ion-item",11)(2,"ion-label",12)(3,"div",11)(4,"h2",13),i._uU(5,"# "),i.TgZ(6,"strong"),i._uU(7),i.ALo(8,"numberLeadZero"),i.qZA()()()()(),i.TgZ(9,"ion-item",11)(10,"ion-label",12)(11,"h3",14)(12,"strong")(13,"ion-text",15),i._uU(14),i.qZA()()(),i.TgZ(15,"h3",16),i._uU(16,"Status"),i.qZA()()(),i.TgZ(17,"ion-item",11)(18,"ion-label",12)(19,"div",17)(20,"h1",13),i._uU(21),i.qZA(),i.TgZ(22,"h3",14),i._uU(23,"Request Type"),i.qZA()()()(),i.TgZ(24,"ion-item",11),i._UZ(25,"ion-icon",18),i.TgZ(26,"ion-label",12)(27,"h2",13),i._uU(28),i.qZA(),i.TgZ(29,"span",16),i._uU(30),i.qZA()()()()),2&l){const a=i.oxw();let c;i.xp6(7),i.Oqu(i.xi3(8,6,a.details.requestId,5)),i.xp6(6),i.Q6J("color",("1"===a.details.requestStatus.requestStatusId||"4"===a.details.requestStatus.requestStatusId?"danger":"")||("2"===a.details.requestStatus.requestStatusId?"primary":"")||(null!==(c="3"===a.details.requestStatus.requestStatusId)&&void 0!==c?c:"tertiary")),i.xp6(1),i.hij(" ",a.details.requestStatus.name," "),i.xp6(7),i.Oqu(a.details.requestType.name),i.xp6(7),i.Oqu(a.details.remarks),i.xp6(2),i.Oqu(""!==a.details.remarks?"Remarks":"No Remarks")}}function E(l,m){1&l&&(i.TgZ(0,"div",10)(1,"ion-item",11)(2,"ion-label",12)(3,"h3",14)(4,"strong")(5,"ion-text"),i._UZ(6,"ion-skeleton-text",19),i.qZA()()(),i.TgZ(7,"h3",16),i._UZ(8,"ion-skeleton-text",19),i.qZA()()(),i.TgZ(9,"ion-item",11)(10,"ion-label",12)(11,"div",17)(12,"h1",13),i._UZ(13,"ion-skeleton-text",19),i.qZA(),i.TgZ(14,"h3",14),i._UZ(15,"ion-skeleton-text",19),i.qZA()()()()()),2&l&&(i.xp6(6),i.Q6J("animated",!0),i.xp6(2),i.Q6J("animated",!0),i.xp6(5),i.Q6J("animated",!0),i.xp6(2),i.Q6J("animated",!0))}function v(l,m){if(1&l){const a=i.EpF();i.TgZ(0,"ion-button",20),i.NdJ("click",function(){i.CHM(a);const y=i.oxw();return i.KtG(y.onClosedRequest())}),i._uU(1,"Closed request"),i.qZA()}if(2&l){const a=i.oxw();i.Q6J("disabled",a.isLoading)}}let M=(()=>{class l{constructor(a,c,y,I,N,L,J,B,Y){this.modalCtrl=a,this.alertController=c,this.actionSheetController=y,this.platform=I,this.pageLoaderService=N,this.storageService=L,this.userService=J,this.appconfig=B,this.requestService=Y,this.hasChanges=!1,this.isLoading=!1,this.details={},this.platform.backButton.subscribeWithPriority(-1,()=>{this.cancel()})}get requestDate(){return f(this.details.requestDate).format("dddd, MMM DD, YYYY")}ngOnInit(){this.getRequest(this.details.requestId)}getRequest(a){return(0,_.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.requestService.getById(a).subscribe(c=>(0,_.mG)(this,void 0,void 0,function*(){c.success?(this.details=c.data,this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]})}),c=>(0,_.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]}),this.isLoading=!1}))}catch(c){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]})}})}onClosedRequest(){return(0,_.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Are you sure you want to closed?",buttons:[{text:"BACK",role:"cancel"},{text:"YES",role:"confirm",handler:()=>(0,_.mG)(this,void 0,void 0,function*(){this.closedRequest()})}]})})}closedRequest(){return(0,_.mG)(this,void 0,void 0,function*(){try{yield this.pageLoaderService.open("Processing please wait..."),this.isLoading=!0,this.requestService.updateRequestStatus({requestId:this.details.requestId,requestStatusId:"3"}).subscribe(a=>(0,_.mG)(this,void 0,void 0,function*(){if(a.success)return this.hasChanges=!0,yield this.pageLoaderService.close(),yield this.presentAlert({header:"Request closed!",buttons:["OK"]}),this.isLoading=!1,this.modalCtrl.dismiss(!0,"confirm");yield this.pageLoaderService.close(),this.isLoading=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(a.message)?a.message[0]:a.message,buttons:["OK"]})}),a=>(0,_.mG)(this,void 0,void 0,function*(){yield this.pageLoaderService.close(),this.isLoading=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(a.message)?a.message[0]:a.message,buttons:["OK"]})}))}catch(a){yield this.pageLoaderService.close(),this.isLoading=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(a.message)?a.message[0]:a.message,buttons:["OK"]})}})}cancel(){return this.modalCtrl.dismiss(this.hasChanges?this.hasChanges:null,"cancel")}presentAlert(a){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(a)).present()})}}return l.\u0275fac=function(a){return new(a||l)(i.Y36(h.IN),i.Y36(h.Br),i.Y36(h.BX),i.Y36(h.t4),i.Y36(e.p),i.Y36(D.V),i.Y36(R.K),i.Y36(T._),i.Y36(n.s))},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-request-details"]],decls:14,vars:4,consts:[["slot","start"],[3,"disabled","click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],[1,"ion-padding"],["class","details-container",4,"ngIf","ngIfElse"],["loading",""],[1,"req-controls-bottom"],["color","danger","expand","block","fill","outline",3,"disabled","click",4,"ngIf"],[1,"details-container"],[1,"item"],["text-wrap",""],[1,"title"],[1,"sub"],[3,"color"],[1,"desc"],[1,"item","type"],["name","pricetag","slot","start"],[3,"animated"],["color","danger","expand","block","fill","outline",3,"disabled","click"]],template:function(a,c){if(1&a&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),i.NdJ("click",function(){return c.cancel()}),i._UZ(4,"ion-icon",2),i.qZA()(),i.TgZ(5,"ion-title",3),i._uU(6,"Details"),i.qZA(),i._UZ(7,"div",4),i.qZA()(),i.TgZ(8,"ion-content",5),i.YNc(9,A,31,9,"div",6),i.YNc(10,E,16,4,"ng-template",null,7,i.W1O),i.qZA(),i.TgZ(12,"div",8),i.YNc(13,v,2,1,"ion-button",9),i.qZA()),2&a){const y=i.MAs(11);i.xp6(3),i.Q6J("disabled",c.isLoading),i.xp6(6),i.Q6J("ngIf",!c.isLoading)("ngIfElse",y),i.xp6(4),i.Q6J("ngIf","1"===c.details.requestStatus.requestStatusId)}},dependencies:[q.O5,h.YG,h.Sm,h.W2,h.Gu,h.gu,h.Ie,h.Q$,h.CK,h.yW,h.wd,h.sr,C.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}.details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#000!important;display:flex;flex-direction:column}.details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{margin:5px 0!important}.details-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:#999!important}.details-container[_ngcontent-%COMP%]   .item.type[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500}.req-controls-bottom[_ngcontent-%COMP%]{position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px;box-shadow:0 3px 10px #0003}.req-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}"]}),l})()},8848:(w,Z,o)=>{o.d(Z,{e:()=>E});var _=o(655),f=o(8528),t=o(5e3),i=o(8779),h=o(9305),e=o(9808),D=o(8559);function R(v,M){if(1&v){const l=t.EpF();t.TgZ(0,"ion-refresher",10),t.NdJ("ionRefresh",function(a){t.CHM(l);const c=t.oxw();return t.KtG(c.doRefresh(a))}),t._UZ(1,"ion-refresher-content"),t.qZA()}}function T(v,M){if(1&v){const l=t.EpF();t.TgZ(0,"ion-item",12),t.NdJ("click",function(){const c=t.CHM(l).$implicit,y=t.oxw(3);return t.KtG(y.onOpenDetails(c))}),t.TgZ(1,"ion-label")(2,"div")(3,"h3")(4,"strong"),t._uU(5),t.ALo(6,"numberLeadZero"),t.TgZ(7,"ion-text",13),t._uU(8),t.qZA()()(),t.TgZ(9,"p")(10,"strong"),t._uU(11),t.qZA()(),t.TgZ(12,"p"),t._uU(13),t.ALo(14,"date"),t.qZA()()()()}if(2&v){const l=M.$implicit;let m;t.xp6(5),t.hij("ID #: ",t.xi3(6,5,l.requestId,5)," "),t.xp6(2),t.Q6J("color",("1"===l.requestStatus.requestStatusId||"4"===l.requestStatus.requestStatusId?"danger":"")||("2"===l.requestStatus.requestStatusId?"primary":"")||(null!==(m="3"===l.requestStatus.requestStatusId)&&void 0!==m?m:"tertiary")),t.xp6(1),t.hij(" ",l.requestStatus.name," "),t.xp6(3),t.Oqu(l.requestType.name),t.xp6(2),t.Oqu(t.xi3(14,8,l.requestDate,"MMMM dd, yyyy"))}}function n(v,M){if(1&v&&(t.TgZ(0,"ion-list"),t.YNc(1,T,15,11,"ion-item",11),t.qZA()),2&v){const l=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",l.request)}}function q(v,M){if(1&v&&(t.TgZ(0,"div"),t.YNc(1,n,2,1,"ion-list",7),t.qZA()),2&v){const l=t.oxw(),m=t.MAs(14);t.xp6(1),t.Q6J("ngIf",l.request.length>0)("ngIfElse",m)}}function C(v,M){1&v&&(t.TgZ(0,"ion-list")(1,"ion-item")(2,"ion-label")(3,"div")(4,"h3",14),t._UZ(5,"ion-skeleton-text",15),t.qZA(),t.TgZ(6,"p"),t._UZ(7,"ion-skeleton-text",15),t.qZA(),t.TgZ(8,"p",16),t._UZ(9,"ion-skeleton-text",15),t.qZA()()()()()),2&v&&(t.xp6(5),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0))}function A(v,M){1&v&&(t.TgZ(0,"div",17),t._UZ(1,"ion-icon",18),t.TgZ(2,"h3",19),t._uU(3,"No recent requests to show"),t.qZA()())}let E=(()=>{class v{constructor(l,m,a,c){this.actionSheetController=l,this.modalCtrl=m,this.alertController=a,this.requestService=c,this.isLoading=!1,this.request=[],this.message="",this.currentPage=1,this.limit=10,this.totalUnreadNotification=0}ngOnInit(){this.initHistory(this.currentUser.clientId)}initHistory(l){return(0,_.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.requestService.getByStatus({clientId:l,requestStatus:"Completed,Cancelled"}).subscribe(m=>(0,_.mG)(this,void 0,void 0,function*(){m.success?(this.request=m.data,this.refreshEvent&&(this.refreshEvent.target.complete(),this.refreshEvent=null),this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(m.message)?m.message[0]:m.message,buttons:["OK"]})}),m=>(0,_.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(m.message)?m.message[0]:m.message,buttons:["OK"]}),this.isLoading=!1}))}catch(m){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(m.message)?m.message[0]:m.message,buttons:["OK"]})}})}onOpenDetails(l){return(0,_.mG)(this,void 0,void 0,function*(){const m=yield this.modalCtrl.create({component:f.J,cssClass:"modal-fullscreen",componentProps:{details:l,currentUser:this.currentUser}});m.present(),yield m.onWillDismiss()})}loadMore(){return(0,_.mG)(this,void 0,void 0,function*(){this.currentPage=this.currentPage+1,this.initHistory(this.currentUser.clientId)})}doRefresh(l){return(0,_.mG)(this,void 0,void 0,function*(){this.request=[],this.currentPage=1,this.refreshEvent=l,this.initHistory(this.currentUser.clientId)})}cancel(){return this.modalCtrl.dismiss(null,"cancel")}presentAlert(l){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(l)).present()})}}return v.\u0275fac=function(l){return new(l||v)(t.Y36(i.BX),t.Y36(i.IN),t.Y36(i.Br),t.Y36(h.s))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-request-history"]],decls:15,vars:4,consts:[["no-border","","no-shadow",""],["slot","start"],[3,"disabled","click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],["slot","fixed","class","refresher-custom",3,"ionRefresh",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseLoading",""],["elseNoData",""],["slot","fixed",1,"refresher-custom",3,"ionRefresh"],["button","","detail","true",3,"click",4,"ngFor","ngForOf"],["button","","detail","true",3,"click"],[3,"color"],[1,"title",2,"width","50%"],[3,"animated"],[2,"width","40%"],[1,"no-records"],["name","search-outline",2,"font-size","4em"],[1,"text"]],template:function(l,m){if(1&l&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),t.NdJ("click",function(){return m.cancel()}),t._UZ(4,"ion-icon",3),t.qZA()(),t.TgZ(5,"ion-title",4),t._uU(6,"History"),t.qZA(),t._UZ(7,"div",5),t.qZA()(),t.TgZ(8,"ion-content"),t.YNc(9,R,2,0,"ion-refresher",6),t.YNc(10,q,2,2,"div",7),t.YNc(11,C,10,3,"ng-template",null,8,t.W1O),t.YNc(13,A,4,0,"ng-template",null,9,t.W1O),t.qZA()),2&l){const a=t.MAs(12);t.xp6(3),t.Q6J("disabled",m.isLoading),t.xp6(6),t.Q6J("ngIf",!m.isLoading),t.xp6(1),t.Q6J("ngIf",!m.isLoading)("ngIfElse",a)}},dependencies:[e.sg,e.O5,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.nJ,i.Wo,i.CK,i.yW,i.wd,i.sr,e.uU,D.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}ion-item[_ngcontent-%COMP%]{background:rgba(204,204,204,.8)!important}ion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(204,204,204,.8)!important}ion-label[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important}.no-records[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px}  ion-item .un-read .title{font-weight:800px!important}"]}),v})()},8544:(w,Z,o)=>{o.d(Z,{w:()=>M});var _=o(655),f=o(8528),t=o(5e3),i=o(8779),h=o(9305),e=o(9808),D=o(8559);function R(l,m){if(1&l){const a=t.EpF();t.TgZ(0,"ion-refresher",10),t.NdJ("ionRefresh",function(y){t.CHM(a);const I=t.oxw();return t.KtG(I.doRefresh(y))}),t._UZ(1,"ion-refresher-content"),t.qZA()}}function T(l,m){if(1&l){const a=t.EpF();t.TgZ(0,"div")(1,"ion-card",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3",18)(7,"strong"),t._uU(8),t.ALo(9,"numberLeadZero"),t.qZA()()()(),t.TgZ(10,"div",19)(11,"div",20)(12,"ion-buttons",21)(13,"ion-button",22),t.NdJ("click",function(){const I=t.CHM(a).$implicit,N=t.oxw(3);return t.KtG(N.showMenu(I))}),t._UZ(14,"ion-icon",23),t.qZA()()()(),t.TgZ(15,"div",19)(16,"div",24)(17,"h3"),t._uU(18,"Type"),t.qZA(),t.TgZ(19,"h3",18)(20,"strong"),t._uU(21),t.qZA()()()()()()()()}if(2&l){const a=m.$implicit;t.xp6(8),t.hij("ID #: ",t.xi3(9,2,a.requestId,5),""),t.xp6(13),t.Oqu(a.requestType.name)}}function n(l,m){if(1&l&&(t.TgZ(0,"div"),t.YNc(1,T,22,5,"div",12),t.qZA()),2&l){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",a.request)}}function q(l,m){1&l&&(t.TgZ(0,"div",25),t._UZ(1,"ion-icon",26),t.TgZ(2,"h3",27),t._uU(3,"No pending request to show"),t.qZA()())}function C(l,m){if(1&l&&(t.TgZ(0,"div"),t.YNc(1,n,2,1,"div",8),t.YNc(2,q,4,0,"ng-template",null,11,t.W1O),t.qZA()),2&l){const a=t.MAs(3),c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.request.length>0)("ngIfElse",a)}}function A(l,m){1&l&&(t.TgZ(0,"div")(1,"ion-card",13)(2,"div",28)(3,"div",29)(4,"span",30),t._UZ(5,"ion-skeleton-text",31),t.qZA(),t.TgZ(6,"h2",32),t._UZ(7,"ion-skeleton-text",31),t.qZA(),t.TgZ(8,"span",30),t._UZ(9,"ion-skeleton-text",31),t.qZA(),t.TgZ(10,"span",30),t._UZ(11,"ion-skeleton-text",31),t.qZA()(),t.TgZ(12,"div",15)(13,"div",16)(14,"div",33)(15,"h3",18),t._UZ(16,"ion-skeleton-text",31),t.qZA()()(),t.TgZ(17,"div",19)(18,"div",34)(19,"h3",18),t._UZ(20,"ion-skeleton-text",31),t.qZA()()()()()()()),2&l&&(t.xp6(5),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(5),t.Q6J("animated",!0),t.xp6(4),t.Q6J("animated",!0))}const E=function(){return[1]};function v(l,m){1&l&&(t.TgZ(0,"div"),t.YNc(1,A,21,6,"div",12),t.qZA()),2&l&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,E)))}let M=(()=>{class l{constructor(a,c,y,I){this.actionSheetController=a,this.modalCtrl=c,this.alertController=y,this.requestService=I,this.hasChanges=!1,this.isLoading=!1,this.request=[],this.message=""}ngOnInit(){this.getRequest(this.currentUser.clientId)}getRequest(a){return(0,_.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.requestService.getByStatus({clientId:a,requestStatus:"Pending"}).subscribe(c=>(0,_.mG)(this,void 0,void 0,function*(){c.success?(this.request=c.data,this.refreshEvent&&(this.refreshEvent.target.complete(),this.refreshEvent=null),this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]})}),c=>(0,_.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]}),this.isLoading=!1}))}catch(c){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(c.message)?c.message[0]:c.message,buttons:["OK"]})}})}doRefresh(a){return(0,_.mG)(this,void 0,void 0,function*(){this.refreshEvent=a,yield this.getRequest(this.currentUser.clientId)})}showMenu(a){return(0,_.mG)(this,void 0,void 0,function*(){const c=yield this.actionSheetController.create({cssClass:"req-card-action-sheet",buttons:[{text:"Details",handler:()=>(0,_.mG)(this,void 0,void 0,function*(){this.onOpenDetails(a),c.dismiss()})},{text:"Back",handler:()=>(0,_.mG)(this,void 0,void 0,function*(){c.dismiss()})}]});yield c.present(),yield c.onDidDismiss()})}onOpenDetails(a){return(0,_.mG)(this,void 0,void 0,function*(){const c=yield this.modalCtrl.create({component:f.J,cssClass:"modal-fullscreen",componentProps:{details:a,currentUser:this.currentUser}});c.onWillDismiss().then(y=>{y.data&&(this.hasChanges=y.data,this.getRequest(this.currentUser.clientId))}),c.present(),yield c.onWillDismiss()})}cancel(){return this.modalCtrl.dismiss(this.hasChanges?this.hasChanges:null,"cancel")}presentAlert(a){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(a)).present()})}}return l.\u0275fac=function(a){return new(a||l)(t.Y36(i.BX),t.Y36(i.IN),t.Y36(i.Br),t.Y36(h.s))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-request-pending"]],decls:13,vars:4,consts:[["no-border","","no-shadow",""],["slot","start"],[3,"disabled","click"],["name","chevron-back"],[2,"text-align","center"],["slot","end",2,"width","48px"],["fullscreen",""],["slot","fixed","class","refresher-custom",3,"ionRefresh",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseLoading",""],["slot","fixed",1,"refresher-custom",3,"ionRefresh"],["elseNoData",""],[4,"ngFor","ngForOf"],["mode","ios"],[1,"req-card"],[1,"card-content"],[1,"content-row","border"],[1,"field"],[1,"value"],[1,"content-row"],[1,"field","action"],["slot","end"],[3,"click"],["name","ellipsis-vertical-sharp"],[1,"field","type"],[1,"no-records"],["name","search-outline",2,"font-size","4em"],[1,"text"],[1,"sched-card"],[1,"card-header",2,"width","90px!important"],[2,"width","100%!important"],[3,"animated"],[1,"date",2,"width","100%!important"],[1,"field","vet",2,"width","100%!important"],[1,"field","type",2,"width","100%!important"]],template:function(a,c){if(1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),t.NdJ("click",function(){return c.cancel()}),t._UZ(4,"ion-icon",3),t.qZA()(),t.TgZ(5,"ion-title",4),t._uU(6,"Pending"),t.qZA(),t._UZ(7,"div",5),t.qZA()(),t.TgZ(8,"ion-content",6),t.YNc(9,R,2,0,"ion-refresher",7),t.YNc(10,C,4,2,"div",8),t.YNc(11,v,2,2,"ng-template",null,9,t.W1O),t.qZA()),2&a){const y=t.MAs(12);t.xp6(3),t.Q6J("disabled",c.isLoading),t.xp6(6),t.Q6J("ngIf",!c.isLoading),t.xp6(1),t.Q6J("ngIf",!c.isLoading)("ngIfElse",y)}},dependencies:[e.sg,e.O5,i.YG,i.Sm,i.PM,i.W2,i.Gu,i.gu,i.nJ,i.Wo,i.CK,i.wd,i.sr,D.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0!important}ion-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}  .mat-tab-group{height:100%;display:flex}  .mat-tab-group .mat-tab-labels{justify-content:space-around}  .mat-tab-group .mat-tab-body-wrapper{display:flex;flex-grow:1;height:100%}.req-controls-bottom[_ngcontent-%COMP%]{position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px}.req-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}.list-title[_ngcontent-%COMP%]{margin:10px 25px!important;display:flex}.req-card[_ngcontent-%COMP%]{display:flex;padding:30px 20px}.req-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-right:20px;border-right:1px solid #cccccc;justify-content:space-between}.req-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin:0}.req-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:flex;line-height:1;margin:0!important;font-size:60px;color:var(--ion-color-danger-tint)}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;padding-left:20px}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:absolute;right:3px;top:5px;display:flex}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-width:45px!important}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;min-width:45px!important;--border-radius: 50%!important}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;line-height:25px}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row[_ngcontent-%COMP%]{padding-top:15px!important;display:flex;flex-grow:1;flex-direction:row;justify-content:space-between}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row.border[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:15px;border-bottom:1px solid #cccccc}"]}),l})()},2875:(w,Z,o)=>{o.r(Z),o.d(Z,{RequestPageModule:()=>j});var _=o(9808),f=o(3075),t=o(8779),i=o(4132),h=o(655),e=o(2998),D=o(8528),R=o(8848),T=o(8544),n=o(5e3),q=o(792),C=o(263),A=o(3746),E=o(8386),v=o(9305),M=o(9709),l=o(8559);function m(g,O){if(1&g){const u=n.EpF();n.TgZ(0,"ion-button",14),n.NdJ("click",function(){n.CHM(u);const b=n.oxw();return n.KtG(b.history())}),n._UZ(1,"ion-icon",15),n.qZA()}}function a(g,O){if(1&g){const u=n.EpF();n.TgZ(0,"ion-refresher",16),n.NdJ("ionRefresh",function(b){n.CHM(u);const S=n.oxw();return n.KtG(S.doRefresh(b))}),n._UZ(1,"ion-refresher-content"),n.qZA()}}function c(g,O){if(1&g){const u=n.EpF();n.TgZ(0,"ion-item",21),n.NdJ("click",function(){n.CHM(u);const b=n.oxw(2);return n.KtG(b.onOpenPending())}),n.TgZ(1,"ion-label")(2,"h2"),n._uU(3,"Pending"),n.qZA()(),n.TgZ(4,"ion-badge",22),n._uU(5),n.qZA()()}if(2&g){const u=n.oxw(2);n.xp6(5),n.Oqu(u.totalPending)}}function y(g,O){1&g&&(n.TgZ(0,"ion-item"),n._UZ(1,"ion-skeleton-text",23),n.qZA()),2&g&&(n.xp6(1),n.Q6J("animated",!0))}function I(g,O){if(1&g&&(n.TgZ(0,"div")(1,"ion-card",17)(2,"ion-list",18),n.YNc(3,c,6,1,"ion-item",19),n.YNc(4,y,2,1,"ng-template",null,20,n.W1O),n.qZA()()()),2&g){const u=n.MAs(5),p=n.oxw();n.xp6(3),n.Q6J("ngIf",!p.isLoading)("ngIfElse",u)}}function N(g,O){1&g&&(n.TgZ(0,"h2",24),n._uU(1,"Ready for pickup"),n.qZA())}function L(g,O){if(1&g){const u=n.EpF();n.TgZ(0,"div")(1,"ion-card",17)(2,"div",26)(3,"div",27)(4,"div",28)(5,"div",29)(6,"h3",30)(7,"strong"),n._uU(8),n.ALo(9,"numberLeadZero"),n.qZA()()()(),n.TgZ(10,"div",31)(11,"div",32)(12,"ion-buttons",2)(13,"ion-button",14),n.NdJ("click",function(){const S=n.CHM(u).$implicit,K=n.oxw(2);return n.KtG(K.showMenu(S))}),n._UZ(14,"ion-icon",33),n.qZA()()()(),n.TgZ(15,"div",31)(16,"div",34)(17,"h3"),n._uU(18,"Type"),n.qZA(),n.TgZ(19,"h3",30)(20,"strong"),n._uU(21),n.qZA()()()()()()()()}if(2&g){const u=O.$implicit;n.xp6(8),n.hij("ID #: ",n.xi3(9,2,u.requestId,5),""),n.xp6(13),n.Oqu(u.requestType.name)}}function J(g,O){if(1&g&&(n.TgZ(0,"div",7),n.YNc(1,L,22,5,"div",25),n.qZA()),2&g){const u=n.oxw();n.xp6(1),n.Q6J("ngForOf",u.request)}}function B(g,O){1&g&&(n.TgZ(0,"div",35),n._UZ(1,"ion-icon",36),n.TgZ(2,"h3",37),n._uU(3,"No requests to show"),n.qZA()())}function Y(g,O){1&g&&(n.TgZ(0,"div")(1,"ion-card",17)(2,"div",26)(3,"div",38)(4,"span",39),n._UZ(5,"ion-skeleton-text",23),n.qZA(),n.TgZ(6,"h2",40),n._UZ(7,"ion-skeleton-text",23),n.qZA(),n.TgZ(8,"span",39),n._UZ(9,"ion-skeleton-text",23),n.qZA(),n.TgZ(10,"span",39),n._UZ(11,"ion-skeleton-text",23),n.qZA()(),n.TgZ(12,"div",27)(13,"div",28)(14,"div",41)(15,"h3",30),n._UZ(16,"ion-skeleton-text",23),n.qZA()()(),n.TgZ(17,"div",31)(18,"div",42)(19,"h3",30),n._UZ(20,"ion-skeleton-text",23),n.qZA()()()()()()()),2&g&&(n.xp6(5),n.Q6J("animated",!0),n.xp6(2),n.Q6J("animated",!0),n.xp6(2),n.Q6J("animated",!0),n.xp6(2),n.Q6J("animated",!0),n.xp6(5),n.Q6J("animated",!0),n.xp6(4),n.Q6J("animated",!0))}const Q=function(){return[1]};function k(g,O){1&g&&(n.TgZ(0,"div"),n.YNc(1,Y,21,6,"div",25),n.qZA()),2&g&&(n.xp6(1),n.Q6J("ngForOf",n.DdM(1,Q)))}const G=[{path:"",component:(()=>{class g{constructor(u,p,b,S,K,d,x,s,r,P,F,U){this.actionSheetController=u,this.modalCtrl=p,this.alertController=b,this.loaderService=S,this.authService=K,this.storageService=d,this.userService=x,this.requestService=s,this.navController=r,this.router=P,this.appconfig=F,this.platform=U,this.selectedStatus=["Pending","Ready for pickup"],this.isLoading=!1,this.requestData=[],this.message="",this.serviceTypeData=[],this.currentUser=this.storageService.getLoginUser(),this.isAuthenticated&&this.getRequest(this.currentUser.clientId)}get isAuthenticated(){const u=this.storageService.getLoginUser();return u&&u.clientId&&u.userId&&u.accessToken&&""!==u.clientId&&""!==u.userId&&""!==u.accessToken}get request(){return this.requestData.filter(u=>"2"===u.requestStatus.requestStatusId)}get totalPending(){return this.requestData.filter(u=>"1"===u.requestStatus.requestStatusId).length}ngOnInit(){return(0,h.mG)(this,void 0,void 0,function*(){})}ionViewWillEnter(){console.log("visited")}ionViewDidEnter(){this.subscription=this.platform.backButton.subscribeWithPriority(9999,()=>{document.addEventListener("backbutton",u=>{u.preventDefault(),u.stopPropagation(),u.stopImmediatePropagation()},!1)})}ionViewWillLeave(){this.subscription.unsubscribe()}getRequest(u){return(0,h.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,this.requestService.getByStatus({clientId:u,requestStatus:this.selectedStatus.toString()}).subscribe(p=>(0,h.mG)(this,void 0,void 0,function*(){p.success?(this.requestData=p.data,this.refreshEvent&&(this.refreshEvent.target.complete(),this.refreshEvent=null),this.isLoading=!1):yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(p.message)?p.message[0]:p.message,buttons:["OK"]})}),p=>(0,h.mG)(this,void 0,void 0,function*(){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(p.message)?p.message[0]:p.message,buttons:["OK"]}),this.isLoading=!1}))}catch(p){yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(p.message)?p.message[0]:p.message,buttons:["OK"]})}})}doRefresh(u){return(0,h.mG)(this,void 0,void 0,function*(){this.refreshEvent=u,yield this.getRequest(this.currentUser.clientId)})}showMenu(u){return(0,h.mG)(this,void 0,void 0,function*(){const p=yield this.actionSheetController.create({cssClass:"sched-card-action-sheet",buttons:[{text:"Details",handler:()=>(0,h.mG)(this,void 0,void 0,function*(){this.onOpenDetails(u),p.dismiss()})},{text:"Back",handler:()=>(0,h.mG)(this,void 0,void 0,function*(){p.dismiss()})}]});yield p.present(),yield p.onDidDismiss()})}segmentChanged(u){}onOpenAdd(){return(0,h.mG)(this,void 0,void 0,function*(){let u=null;u=yield this.modalCtrl.create({component:e.l,cssClass:"modal-fullscreen",backdropDismiss:!1,canDismiss:!1,componentProps:{modal:u,isNew:!0,currentUser:this.currentUser,durationInHours:1}}),u.present();const{role:b}=yield u.onWillDismiss();"confirm"===b&&(yield this.getRequest(this.currentUser.clientId))})}onOpenPending(){return(0,h.mG)(this,void 0,void 0,function*(){let u=null;u=yield this.modalCtrl.create({component:T.w,cssClass:"modal-fullscreen",componentProps:{currentUser:this.currentUser}}),u.onWillDismiss().then(p=>{p.data&&this.getRequest(this.currentUser.clientId)}),u.present(),yield u.onWillDismiss()})}onOpenDetails(u){return(0,h.mG)(this,void 0,void 0,function*(){const p=yield this.modalCtrl.create({component:D.J,cssClass:"modal-fullscreen",componentProps:{details:u,currentUser:this.currentUser}});p.present(),yield p.onWillDismiss()})}history(){return(0,h.mG)(this,void 0,void 0,function*(){let u=null;u=yield this.modalCtrl.create({component:R.e,cssClass:"modal-fullscreen",componentProps:{currentUser:this.currentUser}}),u.present(),yield u.onWillDismiss()})}presentAlert(u){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(u)).present()})}logout(){this.authService.logout()}}return g.\u0275fac=function(u){return new(u||g)(n.Y36(t.BX),n.Y36(t.IN),n.Y36(t.Br),n.Y36(q.D),n.Y36(C.e),n.Y36(A.V),n.Y36(E.K),n.Y36(v.s),n.Y36(t.SH),n.Y36(i.F0),n.Y36(M._),n.Y36(t.t4))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-request"]],decls:20,vars:10,consts:[["slot","start",2,"width","48px"],[2,"text-align","center"],["slot","end"],[3,"click",4,"ngIf"],["fullscreen",""],["slot","fixed","class","refresher-custom",3,"ionRefresh",4,"ngIf"],[4,"ngIf"],[2,"display","flex","flex-direction","column"],["class","list-title",4,"ngIf"],["style","display: flex; flex-direction: column;",4,"ngIf","ngIfElse"],["elseNoData",""],["elseLoading",""],[1,"req-controls-bottom"],["color","primary","size","large","expand","block",3,"disabled","click"],[3,"click"],["slot","icon-only","name","time-outline"],["slot","fixed",1,"refresher-custom",3,"ionRefresh"],["mode","ios"],["lines","none"],["button","",3,"click",4,"ngIf","ngIfElse"],["elseLoadingPending",""],["button","",3,"click"],["color","primary"],[3,"animated"],[1,"list-title"],[4,"ngFor","ngForOf"],[1,"req-card"],[1,"card-content"],[1,"content-row","border"],[1,"field"],[1,"value"],[1,"content-row"],[1,"field","action"],["name","ellipsis-vertical-sharp"],[1,"field","type"],[1,"no-records"],["name","search-outline",2,"font-size","4em"],[1,"text"],[1,"card-header",2,"width","90px!important"],[2,"width","100%!important"],[1,"date",2,"width","100%!important"],[1,"field","vet",2,"width","100%!important"],[1,"field","type",2,"width","100%!important"]],template:function(u,p){if(1&u&&(n.TgZ(0,"ion-header")(1,"ion-toolbar"),n._UZ(2,"div",0),n.TgZ(3,"ion-title",1),n._uU(4,"Request"),n.qZA(),n.TgZ(5,"ion-buttons",2),n.YNc(6,m,2,0,"ion-button",3),n.qZA()()(),n.TgZ(7,"ion-content",4),n.YNc(8,a,2,0,"ion-refresher",5),n.YNc(9,I,6,2,"div",6),n.TgZ(10,"div",7),n.YNc(11,N,2,0,"h2",8),n.YNc(12,J,2,1,"div",9),n.YNc(13,B,4,0,"ng-template",null,10,n.W1O),n.qZA(),n.YNc(15,k,2,2,"ng-template",null,11,n.W1O),n.qZA(),n.TgZ(17,"div",12)(18,"ion-button",13),n.NdJ("click",function(){return p.isAuthenticated?p.onOpenAdd():p.logout()}),n._uU(19),n.qZA()()),2&u){const b=n.MAs(14);n.xp6(6),n.Q6J("ngIf",p.isAuthenticated),n.xp6(2),n.Q6J("ngIf",!p.isLoading&&p.isAuthenticated),n.xp6(1),n.Q6J("ngIf",p.isAuthenticated),n.xp6(1),n.Akn(p.isAuthenticated?"height: 60%":"height: 100%"),n.xp6(1),n.Q6J("ngIf",p.isAuthenticated),n.xp6(1),n.Q6J("ngIf",p.request.length>0)("ngIfElse",b),n.xp6(6),n.Q6J("disabled",p.isLoading),n.xp6(1),n.Oqu(p.isAuthenticated?"New Request":"Login to request")}},dependencies:[_.sg,_.O5,t.yp,t.YG,t.Sm,t.PM,t.W2,t.Gu,t.gu,t.Ie,t.Q$,t.q_,t.nJ,t.Wo,t.CK,t.wd,t.sr,l.O],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0!important}  .mat-tab-group{height:100%;display:flex}  .mat-tab-group .mat-tab-labels{justify-content:space-around}  .mat-tab-group .mat-tab-body-wrapper{display:flex;flex-grow:1;height:100%}.req-controls-bottom[_ngcontent-%COMP%]{z-index:1000;position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px;box-shadow:0 3px 10px #0003}.req-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}.list-title[_ngcontent-%COMP%]{margin:10px 25px!important;display:flex}.req-card[_ngcontent-%COMP%]{display:flex;padding:30px 20px}.req-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-right:20px;border-right:1px solid #cccccc;justify-content:space-between}.req-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin:0}.req-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:flex;line-height:1;margin:0!important;font-size:60px;color:var(--ion-color-danger-tint)}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:absolute;right:3px;top:5px;display:flex}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-width:45px!important}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field.action[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;min-width:45px!important;--border-radius: 50%!important}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;line-height:25px}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row[_ngcontent-%COMP%]{padding-top:15px!important;display:flex;flex-grow:1;flex-direction:row;justify-content:space-between}.req-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .content-row.border[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:15px;border-bottom:1px solid #cccccc}"]}),g})()},{path:"request-details",loadChildren:()=>o.e(8109).then(o.bind(o,8109)).then(g=>g.RequestDetailsPageModule)},{path:"add-request",loadChildren:()=>o.e(8244).then(o.bind(o,8244)).then(g=>g.AddRequestPageModule)},{path:"request-pending",loadChildren:()=>o.e(2526).then(o.bind(o,2526)).then(g=>g.RequestPendingPageModule)},{path:"request-history",loadChildren:()=>o.e(2238).then(o.bind(o,2238)).then(g=>g.RequestHistoryPageModule)}];let W=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[i.Bz.forChild(G),i.Bz]}),g})();var H=o(5815),z=o(5268);let j=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[_.ez,f.u5,t.Pc,f.UX,W,z.q,H.d]}),g})()}}]);