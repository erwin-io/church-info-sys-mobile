{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { ElementRef } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { IonModal } from '@ionic/angular';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/core/services/reservation.service\";\nimport * as i4 from \"src/app/core/ui-service/page-loader.service\";\nimport * as i5 from \"src/app/core/services/app-config.service\";\nimport * as i6 from \"@angular/platform-browser\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/stepper\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/input\";\nconst _c0 = [\"reservationStepper\"];\nconst _c1 = [\"selectTimeSlotDateCtrl\"];\n\nfunction AddSchedulePage_span_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 44);\n    i0.ɵɵtext(1, \" Please select a reservation type \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSchedulePage_span_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 44);\n    i0.ɵɵtext(1, \" Please select a mass category \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSchedulePage_span_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 44);\n    i0.ɵɵtext(1, \" Please select a mass intention type \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSchedulePage_ng_template_95_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-datetime\", 45, 46);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"min\", ctx_r4.minDate)(\"showDefaultButtons\", true);\n  }\n}\n\nfunction AddSchedulePage_div_96_mat_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-label\");\n    i0.ɵɵtext(1, \"Select time slot\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSchedulePage_div_96_ion_radio_group_2_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 18)(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"ion-radio\", 50);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const timeSlot_r21 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r20.tConvert(timeSlot_r21));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", timeSlot_r21);\n  }\n}\n\nfunction AddSchedulePage_div_96_ion_radio_group_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-radio-group\", 48);\n    i0.ɵɵtemplate(1, AddSchedulePage_div_96_ion_radio_group_2_ion_item_1_Template, 4, 2, \"ion-item\", 49);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r19.isLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.availableTimeSlot);\n  }\n}\n\nfunction AddSchedulePage_div_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, AddSchedulePage_div_96_mat_label_1_Template, 2, 0, \"mat-label\", 35);\n    i0.ɵɵtemplate(2, AddSchedulePage_div_96_ion_radio_group_2_Template, 2, 2, \"ion-radio-group\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.availableTimeSlot.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.availableTimeSlot.length > 0);\n  }\n}\n\nfunction AddSchedulePage_ng_template_97_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"span\");\n    i0.ɵɵtext(2, \"Loading time slot please wait...\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction AddSchedulePage_ng_container_99_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 51)(2, \"span\");\n    i0.ɵɵtext(3, \"Sorry!\");\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtext(5, \"No available time slot to show, \");\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵtext(7, \"try another date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction AddSchedulePage_ng_template_110_ion_label_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\")(1, \"h3\", 54)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 54);\n    i0.ɵɵtext(5, \"Reservation type\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r22.previewData.reservationType);\n  }\n}\n\nfunction AddSchedulePage_ng_template_110_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"h3\", 54)(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\", 54);\n    i0.ɵɵtext(6, \"Mass Category\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r23.previewData.massCategory);\n  }\n}\n\nfunction AddSchedulePage_ng_template_110_ion_item_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"h3\", 54)(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\", 54);\n    i0.ɵɵtext(6, \"Mass intention type\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r24.previewData.massIntentionType);\n  }\n}\n\nfunction AddSchedulePage_ng_template_110_ion_item_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"h3\", 54)(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"p\", 54);\n    i0.ɵɵtext(7, \"Date\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, ctx_r25.previewData.reservationDate + \" \" + ctx_r25.formData.time, \"EEE, MMM dd hh:mm a\"));\n  }\n}\n\nfunction AddSchedulePage_ng_template_110_ion_item_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"h3\", 54)(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\", 54);\n    i0.ɵɵtext(6, \"Remarks\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r26.previewData.remarks);\n  }\n}\n\nfunction AddSchedulePage_ng_template_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-content\")(1, \"h3\", 52)(2, \"strong\");\n    i0.ɵɵtext(3, \"Preview\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ion-list\", 53)(5, \"ion-item\");\n    i0.ɵɵtemplate(6, AddSchedulePage_ng_template_110_ion_label_6_Template, 6, 1, \"ion-label\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, AddSchedulePage_ng_template_110_ion_item_7_Template, 7, 1, \"ion-item\", 35);\n    i0.ɵɵtemplate(8, AddSchedulePage_ng_template_110_ion_item_8_Template, 7, 1, \"ion-item\", 35);\n    i0.ɵɵtemplate(9, AddSchedulePage_ng_template_110_ion_item_9_Template, 8, 4, \"ion-item\", 35);\n    i0.ɵɵtemplate(10, AddSchedulePage_ng_template_110_ion_item_10_Template, 7, 1, \"ion-item\", 35);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.previewData.reservationType && ctx_r10.previewData.reservationType !== \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.previewData.massCategory && ctx_r10.previewData.massCategory !== \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.previewData.massIntentionType && ctx_r10.previewData.massIntentionType !== \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.previewData.reservationDate && ctx_r10.selectTimeSlotForm.value.selectTime !== \"\" && !ctx_r10.formData.time.toLowerCase().includes(\"invalid date\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.previewData.remarks && ctx_r10.previewData.remarks !== \"\");\n  }\n}\n\nfunction AddSchedulePage_ion_button_112_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 55);\n    i0.ɵɵlistener(\"click\", function AddSchedulePage_ion_button_112_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.onReservationTypeSelected(ctx_r27.formData.reservationTypeId));\n    });\n    i0.ɵɵtext(1, \"Next\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r11.isLoading || !ctx_r11.selectReservationTypeForm.valid);\n  }\n}\n\nfunction AddSchedulePage_ion_button_113_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 55);\n    i0.ɵɵlistener(\"click\", function AddSchedulePage_ion_button_113_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.onMassCategorySelected());\n    });\n    i0.ɵɵtext(1, \"Next\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r12.isLoading || !ctx_r12.selectMassCategoryForm.valid);\n  }\n}\n\nfunction AddSchedulePage_ion_button_114_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 55);\n    i0.ɵɵlistener(\"click\", function AddSchedulePage_ion_button_114_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.onMassIntensionTypeSelected());\n    });\n    i0.ɵɵtext(1, \"Next\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r13.isLoading || !ctx_r13.selectMassIntensionTypeForm.valid);\n  }\n}\n\nfunction AddSchedulePage_ion_button_115_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 55);\n    i0.ɵɵlistener(\"click\", function AddSchedulePage_ion_button_115_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      i0.ɵɵnextContext();\n\n      const _r0 = i0.ɵɵreference(19);\n\n      return i0.ɵɵresetView(_r0.next());\n    });\n    i0.ɵɵtext(1, \"Next\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r14.isLoading || !ctx_r14.selectTimeSlotForm.valid);\n  }\n}\n\nfunction AddSchedulePage_ion_button_116_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 55);\n    i0.ɵɵlistener(\"click\", function AddSchedulePage_ion_button_116_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.save());\n    });\n    i0.ɵɵtext(1, \"Save\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r15.isLoading || !ctx_r15.remarksForm.valid);\n  }\n}\n\nfunction AddSchedulePage_ion_button_117_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 56);\n    i0.ɵɵlistener(\"click\", function AddSchedulePage_ion_button_117_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.onBack());\n    });\n    i0.ɵɵtext(1, \"Back\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    \"display\": a0\n  };\n};\n\nconst _c3 = function () {\n  return [0, 0.25, 0.5, 0.8, 1];\n};\n\nexport let AddSchedulePage = /*#__PURE__*/(() => {\n  class AddSchedulePage {\n    constructor(modalCtrl, formBuilder, alertController, reservationService, actionSheetController, pageLoaderService, appconfig, platform, sanitizer) {\n      this.modalCtrl = modalCtrl;\n      this.formBuilder = formBuilder;\n      this.alertController = alertController;\n      this.reservationService = reservationService;\n      this.actionSheetController = actionSheetController;\n      this.pageLoaderService = pageLoaderService;\n      this.appconfig = appconfig;\n      this.platform = platform;\n      this.sanitizer = sanitizer;\n      this.isNew = false;\n      this.details = {};\n      this.isSubmitting = false;\n      this.isLoading = false;\n      this.reservationTypeOption = [];\n      this.allowToClose = false;\n      this.availableTimeSlot = [];\n      this.timeSlotConfig = {\n        start: '08:00',\n        end: '17:00',\n        notAvailableHours: ['12:00'],\n        durationInHours: 1,\n        dayOfWeekNotAvailable: ['Sunday', 'Wednesday', 'Saturday']\n      };\n      this.currentDate = new Date();\n      this.minDate = new Date(new Date().setDate(this.currentDate.getDate() + 1)).toISOString();\n\n      this.toMinutes = str => str.split(':').reduce((h, m) => h * 60 + +m);\n\n      this.toString = min => (Math.floor(min / 60) + ':' + min % 60).replace(/\\b\\d\\b/, '0$&');\n\n      this.timeSlotConfig.start = this.toMinutes(this.appconfig.config.reservationConfig.timeSlotHours.start);\n      this.timeSlotConfig.end = this.toMinutes(this.appconfig.config.reservationConfig.timeSlotHours.end);\n      this.timeSlotConfig.notAvailableHours = this.appconfig.config.reservationConfig.timeSlotNotAvailableHours;\n      this.timeSlotConfig.dayOfWeekNotAvailable = this.appconfig.config.reservationConfig.dayOfWeekNotAvailable;\n      this.reservationTypeOption = this.appconfig.config.lookup.reservationType;\n      this.platform.backButton.subscribeWithPriority(-1, () => {\n        this.cancel();\n      });\n    }\n\n    get formData() {\n      return {\n        reservationDate: this.selectTimeSlotForm.value.selectTimeSlotDate ? moment(this.selectTimeSlotForm.value.selectTimeSlotDate).format('YYYY-MM-DD') : null,\n        time: moment(moment(this.selectTimeSlotForm.value.selectTimeSlotDate).format('YYYY-MM-DD') + ' ' + this.selectTimeSlotForm.value.selectTime).format('HH:mm'),\n        clientId: this.currentUser.clientId,\n        reservationTypeId: this.selectReservationTypeForm.valid ? this.selectReservationTypeForm.value.reservationTypeId : null,\n        massCategoryId: (this.selectReservationTypeForm.value.reservationTypeId === '1' || this.selectReservationTypeForm.value.reservationTypeId === '2') && this.selectMassCategoryForm.valid ? this.selectMassCategoryForm.value.massCategoryId : null,\n        massIntentionTypeId: this.selectMassIntensionTypeForm.value.massIntentionTypeId && this.selectReservationTypeForm.value.reservationTypeId === '3' && this.selectMassIntensionTypeForm.valid ? this.selectMassIntensionTypeForm.value.massIntentionTypeId : null,\n        remarks: this.remarksForm.value.remarks\n      };\n    }\n\n    get errorControls() {\n      return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, this.selectReservationTypeForm.controls), this.selectMassCategoryForm.controls), this.selectMassIntensionTypeForm.controls), this.selectTimeSlotForm.controls), this.remarksForm.controls);\n    }\n\n    get previewData() {\n      console.log(this.formData);\n      return {\n        reservationType: this.formData.reservationTypeId ? this.appconfig.config.lookup.reservationType.filter(x => Number(x.reservationTypeId) === Number(this.formData.reservationTypeId))[0].name : '',\n        reservationDate: this.formData.reservationDate,\n        massCategory: this.formData.massCategoryId ? this.appconfig.config.lookup.massCategory.filter(x => Number(x.massCategoryId) === Number(this.formData.massCategoryId))[0].name : '',\n        massIntentionType: this.formData.massIntentionTypeId ? this.appconfig.config.lookup.massIntentionType.filter(x => Number(x.massIntentionTypeId) === Number(this.formData.massIntentionTypeId))[0].name : '',\n        remarks: this.formData.remarks\n      };\n    }\n\n    ngOnInit() {\n      this.selectReservationTypeForm = this.formBuilder.group({\n        reservationTypeId: [null, Validators.required]\n      });\n      this.selectMassCategoryForm = this.formBuilder.group({\n        massCategoryId: [null, Validators.required]\n      });\n      this.selectMassIntensionTypeForm = this.formBuilder.group({\n        massIntentionTypeId: [null, Validators.required]\n      });\n      this.selectTimeSlotForm = this.formBuilder.group({\n        selectTimeSlotDate: [this.minDate, Validators.required],\n        selectTime: [null, Validators.required]\n      });\n      this.remarksForm = this.formBuilder.group({\n        remarks: []\n      });\n      this.allowToClose = true;\n      this.getReservationsForADay(moment(this.minDate).format('YYYY-MM-DD'), this.timeSlotOptions(this.timeSlotConfig.durationInHours));\n      this.selectTimeSlotForm.get('selectTimeSlotDate').valueChanges.subscribe(selectedValue => __awaiter(this, void 0, void 0, function* () {\n        this.selectTimeSlotForm.controls.selectTime.setValue(null);\n        const dayOfWeek = new Date(selectedValue).toLocaleDateString('en-US', {\n          weekday: 'long'\n        });\n        const isDayAvailable = this.timeSlotConfig.dayOfWeekNotAvailable.filter(x => x.toLowerCase().includes(dayOfWeek.toLowerCase())).length <= 0;\n\n        if (isDayAvailable) {\n          yield this.getReservationsForADay(moment(this.formData.reservationDate).format('YYYY-MM-DD'), this.timeSlotOptions(this.timeSlotConfig.durationInHours));\n        } else {\n          this.availableTimeSlot = [];\n        }\n      }));\n      this.subscription = this.platform.backButton.subscribeWithPriority(9999, e => {\n        if (this.modal.canDismiss) {\n          this.cancel();\n        }\n\n        this.pageLoaderService.close();\n      });\n    }\n\n    initTimeSlot() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.selectTimeSlotForm.controls.selectTime.setValue(null);\n        const dayOfWeek = new Date(this.formData.reservationDate).toLocaleDateString('en-US', {\n          weekday: 'long'\n        });\n        const isDayAvailable = this.timeSlotConfig.dayOfWeekNotAvailable.filter(x => x.toLowerCase().includes(dayOfWeek.toLowerCase())).length <= 0;\n\n        if (isDayAvailable) {\n          yield this.getReservationsForADay(moment(this.formData.reservationDate).format('YYYY-MM-DD'), this.timeSlotOptions(this.timeSlotConfig.durationInHours));\n        } else {\n          this.availableTimeSlot = [];\n        }\n      });\n    }\n\n    ionViewWillLeave() {\n      this.subscription.unsubscribe();\n    }\n\n    onSelectFocus(control, value) {\n      console.log('click');\n      setTimeout(() => {\n        control.setValue(value);\n      }, 1000);\n    }\n\n    onReservationTypeSelected(reservationTypeId) {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (reservationTypeId === '1' || reservationTypeId === '2') {\n          this.reservationStepper.next();\n        } else if (reservationTypeId === '3') {\n          this.reservationStepper.selectedIndex = 2;\n        } else {\n          this.reservationStepper.selectedIndex = 3;\n          this.timeSlotConfig.start = this.toMinutes('08:00');\n          this.timeSlotConfig.end = this.toMinutes('16:00');\n          this.timeSlotConfig.durationInHours = 1;\n          this.timeSlotConfig.timeSlotNotAvailableHours = ['12:00', '17:00'];\n          this.timeSlotConfig.dayOfWeekNotAvailable = [];\n          yield this.initTimeSlot();\n        }\n      });\n    }\n\n    onMassCategorySelected() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.reservationStepper.selectedIndex = 3;\n\n        if (this.formData.reservationTypeId === '1') {\n          if (this.formData.massCategoryId === '1') {\n            this.timeSlotConfig.start = this.toMinutes('08:00');\n            this.timeSlotConfig.end = this.toMinutes('16:00');\n            this.timeSlotConfig.durationInHours = 1;\n            this.timeSlotConfig.timeSlotNotAvailableHours = ['12:00'];\n            this.timeSlotConfig.dayOfWeekNotAvailable = ['Sunday'];\n          } else {\n            this.timeSlotConfig.start = this.toMinutes('11:00');\n            this.timeSlotConfig.end = this.toMinutes('12:00');\n            this.timeSlotConfig.durationInHours = 8;\n            this.timeSlotConfig.timeSlotNotAvailableHours = ['08:00', '09:00', '10:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'];\n            this.timeSlotConfig.dayOfWeekNotAvailable = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Sunday'];\n          }\n        } else if (this.formData.reservationTypeId === '2') {\n          if (this.formData.massCategoryId === '1') {\n            this.timeSlotConfig.start = this.toMinutes('08:00');\n            this.timeSlotConfig.end = this.toMinutes('16:00');\n            this.timeSlotConfig.durationInHours = 1;\n            this.timeSlotConfig.timeSlotNotAvailableHours = ['12:00'];\n            this.timeSlotConfig.dayOfWeekNotAvailable = ['Sunday'];\n          } else {\n            this.timeSlotConfig.start = this.toMinutes('08:00');\n            this.timeSlotConfig.end = this.toMinutes('09:00');\n            this.timeSlotConfig.durationInHours = 8;\n            this.timeSlotConfig.timeSlotNotAvailableHours = ['09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'];\n            this.timeSlotConfig.dayOfWeekNotAvailable = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Sunday'];\n          }\n        } else {\n          this.timeSlotConfig.start = this.toMinutes('08:00');\n          this.timeSlotConfig.end = this.toMinutes('17:00');\n          this.timeSlotConfig.durationInHours = 1;\n          this.timeSlotConfig.timeSlotNotAvailableHours = ['12:00'];\n          this.timeSlotConfig.dayOfWeekNotAvailable = [];\n        }\n\n        yield this.initTimeSlot();\n      });\n    }\n\n    onMassIntensionTypeSelected() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.reservationStepper.next();\n        this.timeSlotConfig.start = this.toMinutes('08:00');\n        this.timeSlotConfig.end = this.toMinutes('16:00');\n        this.timeSlotConfig.durationInHours = 1;\n        this.timeSlotConfig.timeSlotNotAvailableHours = ['12:00', '17:00'];\n        this.timeSlotConfig.dayOfWeekNotAvailable = [];\n        yield this.initTimeSlot();\n      });\n    }\n\n    onBack() {\n      if ((this.formData.reservationTypeId === '1' || this.formData.reservationTypeId === '2') && this.reservationStepper.selectedIndex === 3) {\n        this.reservationStepper.selectedIndex = 1;\n      } else if (this.formData.reservationTypeId === '3' && this.reservationStepper.selectedIndex === 2) {\n        this.reservationStepper.selectedIndex = 0;\n      } else if (this.formData.reservationTypeId === '4' && this.reservationStepper.selectedIndex === 3) {\n        this.reservationStepper.selectedIndex = 0;\n      } else {\n        this.reservationStepper.previous();\n      }\n    }\n\n    cancel() {\n      if (this.reservationStepper.selectedIndex !== 0) {\n        this.onBack();\n      } else {\n        this.modal.canDismiss = true;\n        this.modalCtrl.dismiss(null, 'cancel');\n      }\n    }\n\n    save() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const params = this.formData;\n\n        try {\n          yield this.pageLoaderService.open('Booking reservation...');\n          this.isSubmitting = true;\n          this.reservationService.createReservation(params).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n            if (res.success) {\n              yield this.presentAlert({\n                header: 'Booked!',\n                buttons: ['OK']\n              });\n              this.isSubmitting = false;\n              this.modal.canDismiss = true;\n              this.modal.dismiss({\n                success: true,\n                data: res.data\n              }, 'confirm');\n              yield this.pageLoaderService.close();\n            } else {\n              yield this.pageLoaderService.close();\n              this.isSubmitting = false;\n              yield this.presentAlert({\n                header: 'Try again!',\n                message: Array.isArray(res.message) ? res.message[0] : res.message,\n                buttons: ['OK']\n              });\n            }\n          }), err => __awaiter(this, void 0, void 0, function* () {\n            yield this.pageLoaderService.close();\n            this.isSubmitting = false;\n            yield this.presentAlert({\n              header: 'Try again!',\n              message: Array.isArray(err.message) ? err.message[0] : err.message,\n              buttons: ['OK']\n            });\n          }));\n        } catch (e) {\n          yield this.pageLoaderService.close();\n          this.isSubmitting = false;\n          yield this.presentAlert({\n            header: 'Try again!',\n            message: Array.isArray(e.message) ? e.message[0] : e.message,\n            buttons: ['OK']\n          });\n        }\n      });\n    } // eslint-disable-next-line @typescript-eslint/member-ordering\n\n\n    timeSlotOptions(hours = 1) {\n      const notAvailableHours = this.timeSlotConfig.notAvailableHours;\n      const start = this.timeSlotConfig.start;\n      const end = this.timeSlotConfig.end;\n      const slotOptions = Array.from({\n        length: Math.floor((end - start) / (60 * Number(hours))) + 1\n      }, (_, i) => this.toString(start + i * (60 * Number(hours))));\n      return slotOptions.filter(x => !notAvailableHours.includes(x));\n    }\n\n    tConvert(time) {\n      if (time.toLowerCase().includes('invalid date')) {\n        return;\n      }\n\n      ;\n      time = time.split(':')[1].charAt(1) ? time : time + '0'; // Check correct time format and split into components\n\n      time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n      if (time.length > 1) {\n        // If time format correct\n        time = time.slice(1); // Remove full string match value\n\n        time[5] = +time[0] < 12 ? ' AM' : ' PM'; // Set AM/PM\n\n        time[0] = +time[0] % 12 || 12; // Adjust hours\n      }\n\n      return time.join(''); // return adjusted time or original string\n    }\n\n    getReservationsForADay(dateString, timeSlotOptions) {\n      return __awaiter(this, void 0, void 0, function* () {\n        console.log(timeSlotOptions);\n\n        try {\n          this.isLoading = true;\n          yield this.reservationService.getReservationsForADay(dateString).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n            if (res.success) {\n              const hSlotTaken = res.data.map(r => {\n                const reservationTimeStart = moment(`${r.reservationDate} ${r.time}`).format('HH');\n                const reservationDate = new Date(moment(`${r.reservationDate} ${r.time}`).format('YYYY-MM-DD HH:mm'));\n                reservationDate.setHours(reservationDate.getHours() + this.timeSlotConfig.durationInHours);\n                const reservationTimeEnd = moment(reservationDate).format('HH');\n                return {\n                  reservationTimeStart,\n                  reservationTimeEnd\n                };\n              });\n              this.availableTimeSlot = timeSlotOptions.map(t => {\n                const h = t.split(':')[0];\n\n                if (hSlotTaken.filter(x => Number(h) >= Number(x.reservationTimeStart) && Number(h) < Number(x.reservationTimeEnd)).length <= 0) {\n                  return t;\n                }\n              }).filter(x => x !== null && x !== undefined && x !== '');\n              this.isLoading = false;\n            } else {\n              yield this.presentAlert({\n                header: 'Try again!',\n                subHeader: '',\n                message: Array.isArray(res.message) ? res.message[0] : res.message,\n                buttons: ['OK']\n              });\n              this.isLoading = false;\n            }\n          }), e => __awaiter(this, void 0, void 0, function* () {\n            yield this.presentAlert({\n              header: 'Try again!',\n              subHeader: '',\n              message: Array.isArray(e.message) ? e.message[0] : e.message,\n              buttons: ['OK']\n            });\n            this.isLoading = false;\n          }));\n        } catch (e) {\n          console.log(e);\n          yield this.presentAlert({\n            header: 'Try again!',\n            subHeader: '',\n            message: Array.isArray(e.message) ? e.message[0] : e.message,\n            buttons: ['OK']\n          });\n        }\n      });\n    }\n\n    presentAlert(options) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create(options);\n        yield alert.present();\n      });\n    }\n\n  }\n\n  AddSchedulePage.ɵfac = function AddSchedulePage_Factory(t) {\n    return new (t || AddSchedulePage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i3.ReservationService), i0.ɵɵdirectiveInject(i1.ActionSheetController), i0.ɵɵdirectiveInject(i4.PageLoaderService), i0.ɵɵdirectiveInject(i5.AppConfigService), i0.ɵɵdirectiveInject(i1.Platform), i0.ɵɵdirectiveInject(i6.DomSanitizer));\n  };\n\n  AddSchedulePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddSchedulePage,\n    selectors: [[\"app-add-schedule\"]],\n    viewQuery: function AddSchedulePage_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(IonModal, 5);\n        i0.ɵɵviewQuery(_c1, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.reservationStepper = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.timeSlotModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.selectTimeSlotDateCtrl = _t.first);\n      }\n    },\n    decls: 118,\n    vars: 46,\n    consts: [[\"slot\", \"start\"], [3, \"click\"], [\"name\", \"chevron-back\"], [2, \"text-align\", \"center\"], [\"slot\", \"end\", 2, \"width\", \"48px\"], [3, \"ngStyle\"], [2, \"display\", \"flex\", \"width\", \"100%\", \"padding\", \"16px\", \"align-items\", \"center\"], [2, \"display\", \"flex\", \"width\", \"100%\"], [\"slot\", \"end\"], [\"id\", \"open-modal-preview\"], [\"name\", \"chevron-down-circle\"], [1, \"ion-padding\"], [\"animationDuration\", \"200\", 3, \"linear\"], [\"reservationStepper\", \"\"], [\"label\", \"\", 3, \"stepControl\"], [\"id\", \"selectReservationTypeForm\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-field-group\"], [\"formControlName\", \"reservationTypeId\"], [\"fill\", \"outline\", \"lines\", \"none\"], [\"slot\", \"end\", \"value\", \"1\", 3, \"disabled\"], [\"slot\", \"end\", \"value\", \"2\", 3, \"disabled\"], [\"slot\", \"end\", \"value\", \"3\", 3, \"disabled\"], [\"slot\", \"end\", \"value\", \"4\", 3, \"disabled\"], [\"class\", \"error\", 4, \"ngIf\"], [\"id\", \"selectMassCategoryForm\", 3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"massCategoryId\"], [\"id\", \"selectMassIntensionTypeForm\", 3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"massIntentionTypeId\"], [3, \"stepControl\"], [\"id\", \"selectTimeSlotForm\", 3, \"formGroup\", \"ngSubmit\"], [3, \"disabled\"], [\"id\", \"open-reservation-date-picker\", \"fill\", \"outline\", \"lines\", \"none\", 3, \"disabled\"], [\"trigger\", \"open-reservation-date-picker\", 3, \"cssClass\"], [\"class\", \"form-field-group\", 4, \"ngIf\", \"ngIfElse\"], [\"elseLoadingTimeSlot\", \"\"], [4, \"ngIf\"], [\"id\", \"remarksForm\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Remarks\", \"formControlName\", \"remarks\", 2, \"height\", \"200px\"], [\"trigger\", \"open-modal-preview\", \"animated\", \"true\", \"swipeToClose\", \"true\", \"showBackdrop\", \"true\", \"canDismiss\", \"true\", \"handle\", \"true\", \"handleBehavior\", \"cycle\", \"backdropDismiss\", \"true\", 3, \"initialBreakpoint\", \"breakpoints\"], [\"modal\", \"\"], [1, \"sched-controls-bottom\"], [\"color\", \"primary\", \"size\", \"large\", \"expand\", \"block\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"color\", \"primary\", \"size\", \"large\", \"expand\", \"block\", \"fill\", \"outline\", 3, \"click\", 4, \"ngIf\"], [1, \"error\"], [\"presentation\", \"date\", \"size\", \"cover\", \"formControlName\", \"selectTimeSlotDate\", 3, \"min\", \"showDefaultButtons\"], [\"selectTimeSlotDateCtrl\", \"\"], [\"formControlName\", \"selectTime\", 3, \"disabled\", 4, \"ngIf\"], [\"formControlName\", \"selectTime\", 3, \"disabled\"], [\"fill\", \"outline\", \"lines\", \"none\", 4, \"ngFor\", \"ngForOf\"], [\"slot\", \"end\", 3, \"value\"], [1, \"no-time-slot-available\"], [2, \"color\", \"rgba(0,0,0)!important\", \"margin\", \"20px 20px 0 20px!important\", \"text-align\", \"center\"], [\"lines\", \"none\"], [2, \"color\", \"black\"], [\"color\", \"primary\", \"size\", \"large\", \"expand\", \"block\", 3, \"disabled\", \"click\"], [\"color\", \"primary\", \"size\", \"large\", \"expand\", \"block\", \"fill\", \"outline\", 3, \"click\"]],\n    template: function AddSchedulePage_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r39 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0)(3, \"ion-button\", 1);\n        i0.ɵɵlistener(\"click\", function AddSchedulePage_Template_ion_button_click_3_listener() {\n          return ctx.cancel();\n        });\n        i0.ɵɵelement(4, \"ion-icon\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"ion-title\", 3);\n        i0.ɵɵtext(6, \"New Reservation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"ion-toolbar\", 5)(9, \"div\", 6)(10, \"h3\", 0)(11, \"strong\");\n        i0.ɵɵtext(12, \"Preview\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(13, \"div\", 7);\n        i0.ɵɵelementStart(14, \"ion-buttons\", 8)(15, \"ion-button\", 9);\n        i0.ɵɵelement(16, \"ion-icon\", 10);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(17, \"ion-content\", 11)(18, \"mat-stepper\", 12, 13)(20, \"mat-step\", 14)(21, \"form\", 15);\n        i0.ɵɵlistener(\"ngSubmit\", function AddSchedulePage_Template_form_ngSubmit_21_listener() {\n          i0.ɵɵrestoreView(_r39);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return i0.ɵɵresetView(ctx.selectReservationTypeForm.valid ? _r0.next() : false);\n        });\n        i0.ɵɵelementStart(22, \"fieldset\")(23, \"div\", 16)(24, \"mat-label\");\n        i0.ɵɵtext(25, \"Select reservation type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"ion-radio-group\", 17)(27, \"ion-item\", 18)(28, \"ion-label\");\n        i0.ɵɵtext(29, \"Baptism\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"ion-radio\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"ion-item\", 18)(32, \"ion-label\");\n        i0.ɵɵtext(33, \"Wedding\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"ion-radio\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"ion-item\", 18)(36, \"ion-label\");\n        i0.ɵɵtext(37, \"Mass intentions\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"ion-radio\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"ion-item\", 18)(40, \"ion-label\");\n        i0.ɵɵtext(41, \"Funeral mass\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(42, \"ion-radio\", 22);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(43, AddSchedulePage_span_43_Template, 2, 0, \"span\", 23);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(44, \"mat-step\", 14)(45, \"form\", 24);\n        i0.ɵɵlistener(\"ngSubmit\", function AddSchedulePage_Template_form_ngSubmit_45_listener() {\n          i0.ɵɵrestoreView(_r39);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return i0.ɵɵresetView(ctx.selectMassCategoryForm.valid ? _r0.next() : false);\n        });\n        i0.ɵɵelementStart(46, \"fieldset\")(47, \"div\", 16)(48, \"mat-label\");\n        i0.ɵɵtext(49, \"Select mass category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"ion-radio-group\", 25)(51, \"ion-item\", 18)(52, \"ion-label\");\n        i0.ɵɵtext(53, \"Special\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"ion-radio\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"ion-item\", 18)(56, \"ion-label\");\n        i0.ɵɵtext(57, \"Common\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(58, \"ion-radio\", 20);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(59, AddSchedulePage_span_59_Template, 2, 0, \"span\", 23);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(60, \"mat-step\", 14)(61, \"form\", 26);\n        i0.ɵɵlistener(\"ngSubmit\", function AddSchedulePage_Template_form_ngSubmit_61_listener() {\n          i0.ɵɵrestoreView(_r39);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return i0.ɵɵresetView(ctx.selectMassIntensionTypeForm.valid ? _r0.next() : false);\n        });\n        i0.ɵɵelementStart(62, \"fieldset\")(63, \"div\", 16)(64, \"mat-label\");\n        i0.ɵɵtext(65, \"Select mass intention type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"ion-radio-group\", 27)(67, \"ion-item\", 18)(68, \"ion-label\");\n        i0.ɵɵtext(69, \"Pamisa Pasalamat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(70, \"ion-radio\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"ion-item\", 18)(72, \"ion-label\");\n        i0.ɵɵtext(73, \"Pamisa sa Birthday\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(74, \"ion-radio\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"ion-item\", 18)(76, \"ion-label\");\n        i0.ɵɵtext(77, \"House Blessing\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(78, \"ion-radio\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(79, \"ion-item\", 18)(80, \"ion-label\");\n        i0.ɵɵtext(81, \"Pamisa sa Kalag\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(82, \"ion-radio\", 22);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(83, AddSchedulePage_span_83_Template, 2, 0, \"span\", 23);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(84, \"mat-step\", 28)(85, \"form\", 29);\n        i0.ɵɵlistener(\"ngSubmit\", function AddSchedulePage_Template_form_ngSubmit_85_listener() {\n          i0.ɵɵrestoreView(_r39);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return i0.ɵɵresetView(ctx.selectTimeSlotForm.valid ? _r0.next() : false);\n        });\n        i0.ɵɵelementStart(86, \"fieldset\", 30)(87, \"div\", 16)(88, \"mat-label\", 0);\n        i0.ɵɵtext(89, \"Select reservation date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"ion-item\", 31)(91, \"ion-label\");\n        i0.ɵɵtext(92);\n        i0.ɵɵpipe(93, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(94, \"ion-modal\", 32);\n        i0.ɵɵtemplate(95, AddSchedulePage_ng_template_95_Template, 2, 2, \"ng-template\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(96, AddSchedulePage_div_96_Template, 3, 2, \"div\", 33);\n        i0.ɵɵtemplate(97, AddSchedulePage_ng_template_97_Template, 3, 0, \"ng-template\", null, 34, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(99, AddSchedulePage_ng_container_99_Template, 8, 0, \"ng-container\", 35);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(100, \"mat-step\", 28)(101, \"form\", 36);\n        i0.ɵɵlistener(\"ngSubmit\", function AddSchedulePage_Template_form_ngSubmit_101_listener() {\n          i0.ɵɵrestoreView(_r39);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return i0.ɵɵresetView(ctx.remarksForm.valid ? _r0.next() : false);\n        });\n        i0.ɵɵelementStart(102, \"fieldset\")(103, \"div\", 16)(104, \"mat-form-field\", 37)(105, \"mat-label\");\n        i0.ɵɵtext(106, \"Remarks(Optional)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(107, \"textarea\", 38);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(108, \"ion-modal\", 39, 40);\n        i0.ɵɵtemplate(110, AddSchedulePage_ng_template_110_Template, 11, 5, \"ng-template\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(111, \"div\", 41);\n        i0.ɵɵtemplate(112, AddSchedulePage_ion_button_112_Template, 2, 1, \"ion-button\", 42);\n        i0.ɵɵtemplate(113, AddSchedulePage_ion_button_113_Template, 2, 1, \"ion-button\", 42);\n        i0.ɵɵtemplate(114, AddSchedulePage_ion_button_114_Template, 2, 1, \"ion-button\", 42);\n        i0.ɵɵtemplate(115, AddSchedulePage_ion_button_115_Template, 2, 1, \"ion-button\", 42);\n        i0.ɵɵtemplate(116, AddSchedulePage_ion_button_116_Template, 2, 1, \"ion-button\", 42);\n        i0.ɵɵtemplate(117, AddSchedulePage_ion_button_117_Template, 2, 0, \"ion-button\", 43);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(19);\n\n        const _r6 = i0.ɵɵreference(98);\n\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(43, _c2, ctx.previewData.reservationType && ctx.previewData.reservationType !== \"\" ? \"\" : \"none\"));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"linear\", false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"stepControl\", ctx.selectReservationTypeForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.selectReservationTypeForm);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorControls.reservationTypeId.touched && ctx.errorControls.reservationTypeId.errors && ctx.errorControls.reservationTypeId.errors.required);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"stepControl\", ctx.selectMassCategoryForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.selectMassCategoryForm);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorControls.massCategoryId.touched && ctx.errorControls.massCategoryId.errors && ctx.errorControls.massCategoryId.errors.required);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"stepControl\", ctx.selectMassIntensionTypeForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.selectMassIntensionTypeForm);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorControls.massIntentionTypeId.touched && ctx.errorControls.massIntentionTypeId.errors && ctx.errorControls.massIntentionTypeId.errors.required);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"stepControl\", ctx.selectTimeSlotForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.selectTimeSlotForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.isSubmitting || ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(93, 40, ctx.formData.reservationDate, \"EEEE, MMMM d, y\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"cssClass\", \"bottom-end\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading)(\"ngIfElse\", _r6);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.availableTimeSlot.length <= 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"stepControl\", ctx.remarksForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.remarksForm);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"initialBreakpoint\", 0.5)(\"breakpoints\", i0.ɵɵpureFunction0(45, _c3));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", _r0.selectedIndex === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r0.selectedIndex === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r0.selectedIndex === 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r0.selectedIndex === 3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r0.selectedIndex === 4);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r0.selectedIndex > 0 && _r0.selectedIndex <= 4);\n      }\n    },\n    dependencies: [i7.NgForOf, i7.NgIf, i7.NgStyle, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonDatetime, i1.IonHeader, i1.IonIcon, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonRadio, i1.IonRadioGroup, i1.IonTitle, i1.IonToolbar, i1.IonModal, i1.RadioValueAccessor, i1.SelectValueAccessor, i8.MatStep, i8.MatStepper, i9.MatFormField, i9.MatLabel, i10.MatInput, i7.DatePipe],\n    styles: [\"ion-header[_ngcontent-%COMP%]:after{background-image:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin:0!important}.sched-controls-bottom[_ngcontent-%COMP%]{position:relative;display:block;width:100%;background:#ffffff;padding:5px 10px;box-shadow:0 3px 10px #0003}.sched-controls-bottom[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;font-size:15px}  mat-stepper .mat-horizontal-stepper-header-container{display:none!important}  mat-stepper .mat-horizontal-content-container{padding:0!important}ion-radio-group.hide-radio-controls[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{visibility:hidden!important}#selectTimeSlotForm[_ngcontent-%COMP%]{display:flex!important;height:100%}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{flex-grow:1;display:flex!important}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .form-field-group[_ngcontent-%COMP%]{flex-grow:0!important}#selectTimeSlotForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .no-time-slot-available[_ngcontent-%COMP%]{flex-grow:1;display:flex!important;flex-direction:column;align-items:center;text-align:center;justify-content:center}.photos[_ngcontent-%COMP%]{row-gap:10px;display:flex;flex-direction:column;box-sizing:border-box;width:100%;padding:10px}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:auto}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{position:absolute;right:30px;width:40px;height:40px}.photos[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:10px;object-position:center;object-fit:contain;box-shadow:0 0 10px #7a7a7a75}\"]\n  });\n  return AddSchedulePage;\n})();","map":null,"metadata":{},"sourceType":"module"}