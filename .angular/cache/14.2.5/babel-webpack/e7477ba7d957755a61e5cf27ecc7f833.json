{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { forkJoin } from 'rxjs';\nimport { SettingsPage } from '../settings/settings.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/auth.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"src/app/core/services/dashboard.service\";\nimport * as i5 from \"src/app/core/services/notification.service\";\nimport * as i6 from \"src/app/core/storage/storage.service\";\nimport * as i7 from \"@angular/common\";\n\nfunction HomePage_ion_refresher_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-refresher\", 21);\n    i0.ɵɵlistener(\"ionRefresh\", function HomePage_ion_refresher_9_Template_ion_refresher_ionRefresh_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.doRefresh($event));\n    });\n    i0.ɵɵelement(1, \"ion-refresher-content\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-content\")(1, \"h3\", 22)(2, \"strong\");\n    i0.ɵɵtext(3, \"SERVICES\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ion-list\", 23)(5, \"ion-item\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ng_template_25_Template_ion_item_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      i0.ɵɵnextContext();\n\n      const _r1 = i0.ɵɵreference(24);\n\n      return i0.ɵɵresetView(_r1.dismiss());\n    });\n    i0.ɵɵelement(6, \"ion-icon\", 25);\n    i0.ɵɵelementStart(7, \"ion-label\");\n    i0.ɵɵtext(8, \"Book a reservation\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"ion-item\", 26);\n    i0.ɵɵlistener(\"click\", function HomePage_ng_template_25_Template_ion_item_click_9_listener() {\n      i0.ɵɵrestoreView(_r6);\n      i0.ɵɵnextContext();\n\n      const _r1 = i0.ɵɵreference(24);\n\n      return i0.ɵɵresetView(_r1.dismiss());\n    });\n    i0.ɵɵelement(10, \"ion-icon\", 27);\n    i0.ɵɵelementStart(11, \"ion-label\");\n    i0.ɵɵtext(12, \"Request a certificate\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nconst _c0 = function () {\n  return [0, 0.25, 0.5];\n};\n\nexport let HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(router, authService, modalCtrl, dashboardService, notificationService, storageService, alertController) {\n      this.router = router;\n      this.authService = authService;\n      this.modalCtrl = modalCtrl;\n      this.dashboardService = dashboardService;\n      this.notificationService = notificationService;\n      this.storageService = storageService;\n      this.alertController = alertController;\n      this.hasChanges = false;\n      const currentUser = this.storageService.getLoginUser();\n\n      if (this.isAuthenticated) {\n        this.initDashboard(currentUser.clientId);\n      }\n    }\n\n    get isAuthenticated() {\n      const currentUser = this.storageService.getLoginUser();\n      return currentUser && currentUser.clientId && currentUser.userId && currentUser.accessToken && currentUser.clientId !== '' && currentUser.userId !== '' && currentUser.accessToken !== '';\n    }\n\n    get user() {\n      return this.storageService.getLoginUser();\n    }\n\n    initDashboard(clientId) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.isLoading = true;\n        forkJoin().subscribe(([]) => {}, error => console.error(error), () => {\n          this.isLoading = false;\n          this.hasChanges = false;\n        });\n      });\n    }\n\n    ngOnInit() {}\n\n    onShowSettings() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (!this.isAuthenticated) {\n          this.authService.logout();\n        }\n\n        let modal = null;\n        modal = yield this.modalCtrl.create({\n          component: SettingsPage,\n          cssClass: 'modal-fullscreen',\n          backdropDismiss: false,\n          canDismiss: true,\n          componentProps: {\n            modal\n          }\n        });\n        modal.present();\n        console.log('open settings');\n      });\n    }\n\n    ionViewWillEnter() {\n      console.log('visited');\n    }\n\n    doRefresh(event) {\n      return __awaiter(this, void 0, void 0, function* () {});\n    }\n\n    profilePicErrorHandler(event) {\n      event.target.src = '../../../assets/img/profile-not-found.png';\n    }\n\n    presentAlert(options) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create(options);\n        yield alert.present();\n      });\n    }\n\n  }\n\n  HomePage.ɵfac = function HomePage_Factory(t) {\n    return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ModalController), i0.ɵɵdirectiveInject(i4.DashboardService), i0.ɵɵdirectiveInject(i5.NotificationService), i0.ɵɵdirectiveInject(i6.StorageService), i0.ɵɵdirectiveInject(i3.AlertController));\n  };\n\n  HomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomePage,\n    selectors: [[\"app-home\"]],\n    decls: 29,\n    vars: 4,\n    consts: [[\"no-border\", \"\", \"no-shadow\", \"\"], [1, \"home-toolbar\"], [\"slot\", \"start\", 2, \"width\", \"48px\"], [1, \"ion-text-center\", \"home\"], [\"slot\", \"end\"], [3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"person-circle\"], [1, \"ion-padding\"], [\"slot\", \"fixed\", \"class\", \"refresher-custom\", 3, \"ionRefresh\", 4, \"ngIf\"], [1, \"container\"], [1, \"welcome\"], [1, \"text-main\"], [\"id\", \"open-modal\", \"expand\", \"block\", 1, \"text-action\"], [1, \"footer\"], [\"href\", \"tel:09463701342\"], [\"href\", \"mailto:colasdebari1848@gmail.com\"], [\"trigger\", \"open-modal\", \"animated\", \"true\", \"swipeToClose\", \"true\", \"showBackdrop\", \"true\", \"canDismiss\", \"true\", \"handle\", \"true\", \"handleBehavior\", \"cycle\", \"backdropDismiss\", \"true\", 3, \"initialBreakpoint\", \"breakpoints\"], [\"modal\", \"\"], [1, \"home-background\"], [1, \"mask\"], [\"src\", \"../../../assets/img/background_home.png\", \"alt\", \"\"], [\"slot\", \"fixed\", 1, \"refresher-custom\", 3, \"ionRefresh\"], [2, \"color\", \"rgba(0,0,0)!important\", \"margin\", \"20px 20px 0 20px\", \"text-align\", \"center\"], [1, \"home-menu\"], [\"routerLink\", \"/schedule\", \"replaceUrl\", \"true\", 3, \"click\"], [\"name\", \"today\", \"slot\", \"start\"], [\"routerLink\", \"/request\", \"replaceUrl\", \"true\", 3, \"click\"], [\"name\", \"document\", \"slot\", \"start\"]],\n    template: function HomePage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"ion-title\", 3);\n        i0.ɵɵtext(4, \"Home\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ion-buttons\", 4)(6, \"ion-button\", 5);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_6_listener() {\n          return ctx.onShowSettings();\n        });\n        i0.ɵɵelement(7, \"ion-icon\", 6);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(8, \"ion-content\", 7);\n        i0.ɵɵtemplate(9, HomePage_ion_refresher_9_Template, 2, 0, \"ion-refresher\", 8);\n        i0.ɵɵelementStart(10, \"div\", 9)(11, \"div\", 10)(12, \"h1\", 11);\n        i0.ɵɵtext(13, \"Welcome to San Nicolas de Bari App\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"span\", 12);\n        i0.ɵɵtext(15, \"Get Started\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 13)(17, \"span\");\n        i0.ɵɵtext(18, \"Contact Us\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"a\", 14);\n        i0.ɵɵtext(20, \"09463701342\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"a\", 15);\n        i0.ɵɵtext(22, \"colasdebari1848@gmail.com\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"ion-modal\", 16, 17);\n        i0.ɵɵtemplate(25, HomePage_ng_template_25_Template, 13, 0, \"ng-template\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 18)(27, \"div\", 19);\n        i0.ɵɵelement(28, \"img\", 20);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"initialBreakpoint\", 0.25)(\"breakpoints\", i0.ɵɵpureFunction0(3, _c0));\n      }\n    },\n    dependencies: [i7.NgIf, i3.IonButton, i3.IonButtons, i3.IonContent, i3.IonHeader, i3.IonIcon, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonRefresher, i3.IonRefresherContent, i3.IonTitle, i3.IonToolbar, i3.IonModal, i3.RouterLinkDelegate, i1.RouterLink],\n    styles: [\"ion-header:after{background-image:none}.header-md:after{background:transparent!important}ion-title.home{color:#fff}ion-content{z-index:1;--background: transparent}.home-toolbar{--background: transparent}.home-toolbar ion-button.in-toolbar ion-icon{color:#fff}.container{display:flex;flex-direction:column;height:100%;text-shadow:2px 1px 15px #000000}.container .welcome{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;color:#fff}.container .welcome .text-main{font-size:60px;line-height:1;font-weight:600;font-family:sans-serif,Helvetica Neue,Lucida Grande,Arial;font-stretch:expanded}.container .welcome .text-action{color:#a2a9ff;text-shadow:2px 1px 12px #000000;font-size:30px;line-height:1;font-weight:800}.container .footer{display:flex;flex-direction:column;align-items:center}.container .footer *{color:#fff!important;text-decoration:none!important;font-size:20px;line-height:1.5}.home-menu ion-item{font-size:150%}.home-background{position:fixed;top:0;left:0;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:#fff;background:rgb(12,9,121)}.home-background .mask{width:100%;height:100%;background:linear-gradient(90deg,rgb(28,28,60) 0%,rgb(58,61,124) 52%,rgb(22,22,40) 100%)}.home-background .mask img{width:100%;height:100%;object-fit:cover!important;filter:blur(10px);-webkit-filter:blur(10px);-moz-filter:blur(10px);-o-filter:blur(10px);-ms-filter:blur(10px)}\\n\"],\n    encapsulation: 2\n  });\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module"}